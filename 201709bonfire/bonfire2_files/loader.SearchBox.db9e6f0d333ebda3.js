webpackJsonp(["loader.SearchBox"],{"+p6t":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("Zx67"),o=r(a),i=n("Zrlr"),u=r(i),s=n("wxAW"),d=r(s),l=n("zwoO"),c=r(l),f=n("Pf15"),p=r(f),_=n("Xpfz"),v=r(_),h=n("HW6M"),m=r(h),y=n("sqR6"),E=r(y),g=n("jSD+"),I=n("Zfgq"),A=n("U7vG"),C=r(A),S=(n("KSGD"),n("uwYN")),O=(r(S),n("GWs/")),b=r(O),T=n("gzNf"),M=r(T),w=function(e){function t(){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.link,r=e.conversation,a=e.perspective,o=r&&r.avatar_image_https,i=(0,E.default)(r,a).map(function(e){return e.user}),u=i.slice(0,3),s=(0,m.default)(t,M.default.root,M.default["avatar"+u.length]),d=this._avatarFromSrc(o)||this._avatarFromParticipants(u);return d?C.default.createElement(v.default,{ratio:1},C.default.createElement("div",{className:s},n?C.default.createElement(I.Link,{children:d,tabIndex:"-1",to:n}):d)):null}},{key:"_avatarFromSrc",value:function(e){return e?C.default.createElement(g.ImageResource,{className:M.default.simpleImageAvatar,source:e}):null}},{key:"_avatarFromParticipants",value:function(e){return 0===e.length?null:1===e.length?this._singleParticipantAvatar(e[0]):this._multipleParticipantAvatar(e)}},{key:"_singleParticipantAvatar",value:function(e){return C.default.createElement("div",{className:M.default.container,key:e.id_str},C.default.createElement(I.Link,{to:"/"+e.screen_name},C.default.createElement(b.default,{className:M.default.image,size:this.props.size,uri:e.profile_image_url_https,userName:e.name})))}},{key:"_multipleParticipantAvatar",value:function(e){var t=this;return e.map(function(e){return C.default.createElement("div",{className:M.default.container,key:e.id_str},C.default.createElement(b.default,{circle:!1,className:M.default.image,size:t.props.size,uri:e.profile_image_url_https,userName:e.name}))})}}]),t}(C.default.Component);w.defaultProps={size:"medium"},t.default=w},"/PGd":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=h[e];return n?n(t):{}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(t&&t.src){var i=a(t.src,t.q),u=i.hashtags,s=i.users,d=i.topics,l=y(e.hashtags,u),c=g(e.users,s,t,n,r,o),f=E(e.topics,d),_=f.concat(l,c);if(t.src===p.Sources.SEARCH_BOX&&_.length<d+s)if(c.length<s){var v=d+(s-c.length);f=E(e.topics,v),_=f.concat(l,c)}else if(f.length<d){var h=s+(d-f.length);c=g(e.users,h,t,n,r,o),_=f.concat(l,c)}return _}}Object.defineProperty(t,"__esModule",{value:!0}),t._getUsers=void 0;var i,u=n("Dd8w"),s=r(u),d=n("bOdI"),l=r(d),c=n("ARn0"),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(c),p=n("fLkD"),_=/^[@＠]{1}/,v=/^[#＃$]{1}/,h=(i={},(0,l.default)(i,p.Sources.COMPOSE,function(){return{users:6,hashtags:6}}),(0,l.default)(i,p.Sources.COMPOSE_MESSAGE,function(){return{users:6}}),(0,l.default)(i,p.Sources.SEARCH_BOX,function(e){return _.test(e)?{users:9}:v.test(e)?{topics:9}:{topics:3,users:6}}),i),m={compose_message:function(e){return!e.user||(e.user.can_dm||e.user.is_dm_able)}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.map(function(e){return A("hashtag",e)}).slice(0,t)},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.map(function(e){return A("topic",e)}).slice(0,t)},g=t._getUsers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments[4],o=arguments[5],i=m[n.src]||function(){return!0},u={};return e.sort(C).map(I).map(function(e){if(e.user){var t=a.indexOf(e.user.id_str)>=0,n=o.indexOf(e.user.id_str)>=0;return(0,s.default)({},e,{disabled:t,selected:n})}return e}).filter(i).filter(function(e){var t=(e.conversation,e.user);return r||!!t}).filter(function(e){var t=e.conversation,n=e.user,r=t?"c_"+t.conversation_id:"u_"+n.id_str;return!u[r]&&(u[r]=!0,!0)}).slice(0,t)},I=function(e){if(e.type)return e;f.typeaheadUserRecommendationIsWellformed(e)&&(e=f.formatUser(e));var t=A("user",e,"screen_name");return(0,s.default)({},t,{token:"@"+t.token})},A=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return n={type:e},(0,l.default)(n,e,t),(0,l.default)(n,"token",t[r]),n},C=function(e,t){return t.rounded_score-e.rounded_score};t.default=o},"/uH4":function(e,t,n){var r=n("bANh");"string"==typeof r&&(r=[[e.i,r,""]]);n("fjbf")(r,{});r.locals&&(e.exports=r.locals)},"1azS":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("d7EF"),o=r(a),i=n("fHKy"),u=r(i),s=n("oG/c"),d=n("BNgD"),l=r(d),c=n("sqR6"),f=r(c),p=n("U7vG"),_=r(p),v=(n("KSGD"),n("2fO2")),h=r(v),m=n("uwYN"),y=(r(m),n("hUoQ")),E=r(y),g=function(e){var t=e.conversation,n=e.perspective;if(t.type===s.CONVERSATION_TYPE.ONE_TO_ONE){var r=(0,f.default)(t,n).map(function(e){return e.user}),a=(0,o.default)(r,1),i=a[0];return _.default.createElement(E.default,{badgeContext:"content",isProtected:i.protected,isVerified:i.verified,name:i.name,screenName:i.screen_name,translatorType:i.translator_type,withLink:!1})}return _.default.createElement(u.default,{weight:"bold"},_.default.createElement(h.default,{text:(0,l.default)(t,n)}))};t.default=g},"2OIA":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments[1],n=t.meta||{},r=n.conversationId,a=n.requestId;switch(t.type){case ne:var o=(0,A.default)(t.payload).filter(function(e){return e.type!==P.ENTRY_TYPE.CONVERSATION_READ}),i=o.reduce(function(t,n){var r=n.id;return t[r]=$(e.entries[r],{data:n,isLoading:!1,isLoaded:!0}),t},{}),u=(0,g.default)({},e.entries,i),s=(0,k.default)(o,function(e){return e.conversation_id}),d=(0,y.default)(s).reduce(function(t,n){var r=s[n].map(function(e){return e.id});return t[n]=ee([].concat((0,h.default)(e.entryIdsByConversationId[n]||[]),(0,h.default)(r)),u),t},{});return(0,g.default)({},e,{entries:u,entryIdsByConversationId:(0,g.default)({},e.entryIdsByConversationId,d)});case me:return(0,g.default)({},e,{draft:(0,g.default)({},e.draft,t.payload)});case fe:case pe:var l=t.type===fe,c=t.payload.reduce(function(t,n){var r=e.entries[n]&&e.entries[n].data;return(0,g.default)({},t,(0,_.default)({},n,(0,g.default)({},e.entries[n],{data:(0,g.default)({},r,{marked_as_spam:l})})))},{});return(0,g.default)({},e,{entries:(0,g.default)({},e.entries,c)});case J.REQUEST:case ce:var f=t.type===ce&&!Array.isArray(t.payload),p=e.entryIdsByConversationId[r]||[],v=t.type===ce?f?p:t.payload:[t.payload];return(0,g.default)({},e,{entries:(0,B.default)(e.entries,v),entryIdsByConversationId:(0,g.default)({},(0,B.default)(e.entryIdsByConversationId,r),f?{}:(0,_.default)({},r,(0,N.default)(p,v)))});case ge:return(0,g.default)({},e,{draft:(0,g.default)({},e.draft,{gifMetadata:null,mediaId:null})});case re:var m=(0,g.default)({},e.entries,(0,_.default)({},a,$(e.entries[a],{data:(0,g.default)({},t.payload,{id:a}),isLoading:!0})));return(0,g.default)({},e,{entries:m,entryIdsByConversationId:(0,g.default)({},e.entryIdsByConversationId,(0,_.default)({},r,ee([].concat((0,h.default)(e.entryIdsByConversationId[r]||[]),[a]),m)))});case oe:var E=(0,g.default)({},(0,B.default)(e.entries,a)),I=ee((e.entryIdsByConversationId[r]||[]).filter(function(e){return e!==a}),E),C=I?(0,_.default)({},r,I):{};return(0,g.default)({},e,{entries:E,entryIdsByConversationId:(0,g.default)({},(0,B.default)(e.entryIdsByConversationId,r),C)});case ue:return(0,g.default)({},e,{entries:(0,g.default)({},e.entries,(0,_.default)({},a,$(e.entries[a],{data:t.payload,isLoading:!1,isLoaded:!1,error:!0})))});case Ce:return(0,g.default)({},e,{draft:(0,g.default)({},e.draft,{isUploading:!0})});case ye:return(0,g.default)({},e,{draft:(0,g.default)({},e.draft,{isUploading:!1})});case Te:case Oe:return(0,g.default)({},e,{draft:{isUploading:!1,mediaId:null}});case G.RESET:return X;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.uploadFailure=t.uploadSuccess=t.uploadRequest=t.clearMedia=t.removeMedia=t.cancelUpload=t.addMedia=t.selectEntryIsLoading=t.selectDraftGifMetadata=t.selectDraftMediaUploadProgress=t.selectDraftMediaIsUploading=t.selectDraftMedia=t.selectDraftMediaId=t.selectEntry=t.selectEntries=t.toggleSpamOnEntries=t.removeConversationEntries=t.deleteEntry=t.sendMessage=t.sendMessageFailure=t.sendMessageSuccess=t.sendMessageRequest=t.addEntries=t.updateConversationEntries=t.deleteMessageActionType=void 0;var o=n("//Fk"),i=r(o),u=n("d7EF"),s=r(u),d=n("RRo+"),l=r(d),c=n("+6Bu"),f=r(c),p=n("bOdI"),_=r(p),v=n("Gu7T"),h=r(v),m=n("fZjL"),y=r(m),E=n("Dd8w"),g=r(E),I=n("gRE1"),A=r(I);t.default=a;var C=n("hviW"),S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(C),O=n("w50l"),b=n("ZeIv"),T=n("lyoc"),M=r(T),w=n("5PPE"),N=r(w),P=n("ADUO"),R=n("PGQ9"),D=n("E/5B"),x=r(D),U=n("akg+"),k=r(U),F=n("a6o4"),H=r(F),L=n("55jw"),j=n("nrX7"),B=r(j),G=n("Ozl3"),V=n("JpTO"),q=r(V),z=n("ree2"),Y=r(z),W=n("nmJ5"),Z=n("sLaq"),K=r(Z),Q=n("IIth"),J=t.deleteMessageActionType=(0,Q.createApiActionTypes)(W.NAMESPACE,"DELETE_MESSAGE"),X={entries:{},entryIdsByConversationId:{},draft:{gifMetadata:null,isUploading:!1,mediaId:null}},$=function(e,t){var n=e||{},r=(0,f.default)(n,["error","isLoaded","isLoading"]),a=t||{},o=a.data,i=(0,f.default)(a,["data"]);return(0,g.default)({},r,{data:(0,g.default)({},r&&r.data,o)},i)},ee=t.updateConversationEntries=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=(0,q.default)(e).sort(function(e,n){var r=(0,M.default)(t[e].data.time,t[n].data.time);return 0===r?(0,M.default)(t[e].id,t[n].id):r});return n.length?n:void 0},te=function(e){var t=e.conversation_id,n=e.recipient_ids,r=e.sender_id,a=e.text,o=e.attachment,i=void 0===o?{}:o,u=e.error,s=Date.now().toString();return{conversation_id:t,recipient_ids:n,error:u,isEmojiOnly:!!(!i.photo&&!i.animated_gif)&&(0,b.checkEntryIsEmojiOnly)({text:a}),is_draft:!0,message_data:{attachment:i,sender_id:r,text:a,time:s},type:"message",time:s}},ne=(0,W.action)("ADD_ENTRIES"),re=(t.addEntries=function(e){return{payload:e,type:ne}},(0,W.action)("SEND_MESSAGE_REQUEST")),ae=t.sendMessageRequest=function(e,t,n){return{meta:{conversationId:e,requestId:t},payload:n,type:re}},oe=(0,W.action)("SEND_MESSAGE_SUCCESS"),ie=t.sendMessageSuccess=function(e,t,n){return{meta:{conversationId:e,requestId:t},payload:n,type:oe}},ue=(0,W.action)("SEND_MESSAGE_FAILURE"),se=t.sendMessageFailure=function(e,t,n){return{error:!0,meta:{conversationId:e,requestId:t},payload:n,type:ue}},de=function(e){return function(t,n,r){var a=r.api;t(Se());var o=e||{},u=o.senderId,d=o.conversationId,c=o.recipients,p=void 0===c?[]:c,_=o.requestId,v=void 0===_?Y.default.v1():_,m=o.tweetAttachment,y=(0,f.default)(o,["senderId","conversationId","recipients","requestId","tweetAttachment"]),E=ve(n()),I=p.length>0&&p.join(","),C=S.uploadMedia(E),b=[t(C)];if((0,l.default)(E)){var T=S.selectMedia(n(),E),M=(0,s.default)(T,1),w=M[0],N=w||{},P=N.imageFile;P&&P.isGif&&b.push((0,x.default)(P))}return i.default.all(b).then(function(r){var o=(0,s.default)(r,2),c=(0,s.default)(o[0],1),f=c[0],p=o[1];if(!he(n()))throw new Error("Upload cancelled");var _=m||{},C=_.id_str,S={};if(f){var b=f.imageFile,T={sizes:[{h:b.height,w:b.width,resize:"fit"}]};b.isImage?S.photo=(0,g.default)({},T,{media_url_https:b.url}):b.isGif&&(S.animated_gif=(0,g.default)({},T,{media_url_https:p,type:"animated_gif"}))}else m&&(S.tweet={status:C});var M=f||{},w=M.uploadId,N=te({attachment:S,conversation_id:d,recipient_ids:I,sender_id:u,text:e.text}),P=(0,g.default)({},y,{conversation_id:d,media_id:w,recipient_ids:I,request_id:v,tweet_id:C});return t([be(),{type:R.fetchUpdatesActionType.REQUEST},ae(d,v,N)]),a.DirectMessages.sendMessage(P).then(function(n){var r=n.entities,a=r.entries,o=r.users,u=r.tweets,s=r.cards,c=n.result.conversations,f=(0,H.default)((0,A.default)(a)),p=f.message_data.attachment,_=void 0===p?{}:p,m=_.photo||_.animated_gif,y=[];m&&y.push((0,L.loadImage)(m.media_url_https));var g=function(){return(0,l.default)(E)&&t(Ae(E)),t([{type:R.fetchUpdatesActionType.SUCCESS}].concat((0,h.default)((0,O.addToInbox)({conversations:c,entries:a,users:o,tweets:u,cards:s})),[ie(d,v,e)])),i.default.resolve((0,A.default)(n.entities.entries)[0].conversation_id)};return i.default.all(y).then(g).catch(g)},function(n){var r=te({attachment:S,conversation_id:d,error:!0,recipient_ids:I,sender_id:u,text:e.text});return t([{type:R.fetchUpdatesActionType.SUCCESS},se(d,v,r)]),(0,K.default)(t,n,Z.ACTION_SEND_DM)})},function(e){throw t(Me()),e})}};t.sendMessage=de;var le=function(e){return function(t,n,r){var a=r.api,o=e||{},i=o.id,u=o.conversationId,s=o.requestId,d=void 0===s?Y.default.v1():s,l=(0,f.default)(o,["id","conversationId","requestId"]),c=(0,g.default)({},l,{id:i,request_id:d});return(0,Q.createOptimisticApiDispatcher)(t,{apiErrorHandler:K.default,params:c,request:a.DirectMessages.deleteMessage})({actionTypes:J,context:Z.ACTION_DELETE_DM,payload:i,meta:{conversationId:u}})}};t.deleteEntry=le;var ce="rweb/dm/REMOVE_CONVERSATION_ENTRIES",fe=(t.removeConversationEntries=function(e,t){return{meta:{conversationId:e},payload:t,type:ce}},"rweb/dm/MARK_ENTRIES_AS_SPAM"),pe="rweb/dm/MARK_ENTRIES_AS_NOT_SPAM",_e=(t.toggleSpamOnEntries=function(e,t){return{payload:e,type:t?fe:pe}},t.selectEntries=function(e){return e[W.GLOBAL_STATE_KEY].entries}),ve=(t.selectEntry=function(e,t){var n=_e(e).entries[t];return n&&n.data},t.selectDraftMediaId=function(e){return _e(e).draft.mediaId}),he=(t.selectDraftMedia=function(e){var t=S.selectMedia(e,ve(e));return t.length>0?t[0]:null},t.selectDraftMediaIsUploading=function(e,t){return _e(e).draft.isUploading}),me=(t.selectDraftMediaUploadProgress=function(e){return S.selectMediaUploadProgress(e,ve(e))},t.selectDraftGifMetadata=function(e){return _e(e).draft.gifMetadata},t.selectEntryIsLoading=function(e,t){return _e(e).entries[t].isLoading},(0,W.action)("ADD_MEDIA")),ye=(t.addMedia=function(e,t){return{payload:{isUploading:!1,mediaId:(0,s.default)(e,1)[0],gifMetadata:t},type:me}},(0,W.action)("CANCEL_UPLOAD")),Ee=t.cancelUpload=function(){return{type:ye}},ge=(0,W.action)("REMOVE_MEDIA"),Ie=t.removeMedia=function(){return{type:ge}},Ae=t.clearMedia=function(e){return function(t){t(S.removeMediaUpload(e)),t([Ee(),Ie()])}},Ce=(0,W.action)("UPLOAD_REQUEST"),Se=t.uploadRequest=function(){return{type:Ce}},Oe=(0,W.action)("UPLOAD_SUCCESS"),be=t.uploadSuccess=function(){return{type:Oe}},Te=(0,W.action)("UPLOAD_FAILURE"),Me=t.uploadFailure=function(){return{type:Te}}},"2rH5":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.hydrateConversations=t.hydrateConversation=t.hydrateConversationLight=void 0;var a=n("Dd8w"),o=r(a),i=n("gRE1"),u=r(i),s=n("klNu"),d=r(s),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return(0,u.default)(e).reduce(function(e,n){var r=n.user_id,a=t[r]||{id_str:r};return e[r]=(0,o.default)({},n,{user:a}),e},{})},c=function(e,t,n){var r=t.entries;return(t.entryIdsByConversationId[e]||[]).map(function(e){return r[e]&&r[e].data}).filter(function(e){return!!e})},f=(t.hydrateConversationLight=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=arguments[2],r=e.conversation_id,a=e.participants;return(0,o.default)({},e,{entries:t.entryIdsByConversationId[r]||[],participants:l(a,n)})},t.hydrateConversation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=arguments[2],r=e.conversation_id,a=e.participants;return(0,o.default)({},e,{entries:c(r,t),participants:l(a,n)})});t.hydrateConversations=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=arguments[2];return e.map(function(e){return f(e,t,n)}).sort(d.default)}},"3SYI":function(e,t,n){t=e.exports=n("FZ+f")(void 0),t.push([e.i,"._1MWHskJm{background-color:#fff;left:0;position:absolute;right:0;top:0;z-index:4}._1orrbVhw{border-bottom:1px solid #ccd6dd;padding-top:1.3125rem}.zVrmlr6B{font-size:1.3125rem;color:#1da1f2}",""]),t.locals={root:"_1MWHskJm",divider:"_1orrbVhw",checkmark:"zVrmlr6B"}},"69I8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("HhAh"),a=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e,t,n){return(0,a.default)(e,t,n)}},"98Tz":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SearchBoxContainer=void 0;var a=n("Zx67"),o=r(a),i=n("Zrlr"),u=r(i),s=n("wxAW"),d=r(s),l=n("zwoO"),c=r(l),f=n("Pf15"),p=r(f),_=n("Dd8w"),v=r(_),h=n("lwC/"),m=r(h),y=n("HW6M"),E=r(y),g=n("houD"),I=r(g),A=n("slmD"),C=r(A),S=n("C3D3"),O=r(S),b=n("U7vG"),T=r(b),M=n("fLkD"),w=n("mk3D"),N=r(w),P=n("8QQ+"),R=r(P),D=n("oshO"),x=r(D),U=n("e53B"),k=n("KSGD"),F=n("hUiC"),H=r(F),L=I.default.formatMessage("Search Text"),j=I.default.formatMessage("Search Twitter"),B=(0,C.default)(function(e){return{color:e?"blue":"normal",size:"normal",weight:"bold"}}),G=(0,C.default)(function(e){return(0,v.default)({},e?{}:{display:"none"},{bottom:0,overflowY:"auto",position:"fixed",marginTop:R.default.lineHeight+"rem"})}),V=t.SearchBoxContainer=function(e){function t(e,n){(0,u.default)(this,t);var r=(0,c.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return r._routeTransition=function(e,t,n){var a=r.context.router,o=r.props.location,i=(0,v.default)({},o,{pathname:e,query:t?{q:t,src:n}:{},state:(0,v.default)({},o.state,{searchFocused:!1})});a.replace(i)},r._handleSubmit=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.default.Typed,n=r.props,a=n.onSubmit,o=n.searchRoute;a&&a(e,t),r._routeTransition(o,e,t)},r._handleOnFocus=function(){var e=r.props.location,t=e.state||{};t.searchFocused||r.context.router.push((0,v.default)({},e,{state:(0,v.default)({},t,{searchFocused:!0})}))},r._handleChange=function(e){r.setState({query:e.target.value})},r._handleClear=function(e){r.props.initialValue!==r.state.query&&r.setState({query:""}),r._handleSubmit("")},r._handleFormSubmit=function(e){e.preventDefault(),e.stopPropagation(),r._submitQuery()},r._handleInputSubmit=function(){r._submitQuery()},r._handleSuggestionSelected=function(e){"user"===e.type?r._routeTransition("/"+e.user.screen_name):r._handleSubmit(e.token,O.default.TypeaheadClick)},r._setSearchInputRef=function(e){r._searchInput=e},r.state={query:e.initialValue},r}return(0,p.default)(t,e),(0,d.default)(t,[{key:"componentWillMount",value:function(){var e=this.props.location.state||{},t=e.searchFocused;this._autoFocus=!!t}},{key:"componentWillReceiveProps",value:function(e){this.props.initialValue!==e.initialValue&&this.setState({query:e.initialValue})}},{key:"render",value:function(){var e=this.props,t=e.location,n=e.withTypeahead,r=t.state||{},a=r.searchFocused;return T.default.createElement(U.View,{accessibilityRole:"form",action:"#",className:(0,E.default)(H.default.root,!a&&H.default.centerText),onSubmit:this._handleFormSubmit},n?this._renderSearchInputWithTypeahead():this._renderSearchInput())}},{key:"_renderSearchInputWithTypeahead",value:function(){var e=this.props,t=e.location,n=e.onDropdownHide,r=e.onDropdownShow,a=t.state||{},o=a.searchFocused;return T.default.createElement(x.default,{className:H.default.typeaheadWrapper,dropdownStyle:G(o),onDropdownHide:n,onDropdownShow:r,onSuggestionSelected:this._handleSuggestionSelected,srcInput:M.Sources.SEARCH_BOX},this._renderSearchInput())}},{key:"_renderSearchInput",value:function(){var e=this.props,t=e.location,n=e.placeholder,r=t.state||{},a=r.searchFocused;return T.default.createElement(m.default,{appText:B(a),"aria-label":L,autoFocus:this._autoFocus,backgroundColor:a?"transparent":"faintGray",border:a?"transparent":"lightGray",className:H.default.input,clearButtonClassName:H.default.clearButton,focusOnClear:!1,onClear:this._handleClear,onFocus:this._handleOnFocus,onInput:this._handleChange,onSubmit:this._handleInputSubmit,placeholder:n,ref:this._setSearchInputRef,submitButtonClassName:H.default.submitButton,testID:N.default.searchBox,type:"search",value:this.state.query,withClearButton:!!a,withSearchIcon:!1})}},{key:"_submitQuery",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.query;/^\s+$/.test(e)||(this._searchInput.blur(),this._handleSubmit(e))}}]),t}(T.default.Component);V.defaultProps={initialValue:"",placeholder:j,searchRoute:"/search",withTypeahead:!0},V.contextTypes={router:k.object.isRequired},t.default=V},"9R9P":function(e,t,n){var r=n("3SYI");"string"==typeof r&&(r=[[e.i,r,""]]);n("fjbf")(r,{});r.locals&&(e.exports=r.locals)},ADUO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CONVERSATION_TYPE={ONE_TO_ONE:"ONE_TO_ONE",GROUP:"GROUP_DM"},t.PAGINATION_STATUS={AT_END:"AT_END",HAS_MORE:"HAS_MORE"},t.ENTRY_TYPE={CONVERSATION_AVATAR_UPDATE:"conversation_avatar_update",CONVERSATION_NAME_UPDATE:"conversation_name_update",CONVERSATION_READ:"conversation_read",DISABLE_NOTIFICATIONS:"disable_notifications",ENABLE_NOTIFICATIONS:"enable_notifications",JOIN_CONVERSATION:"join_conversation",MARK_ALL_AS_READ:"mark_all_as_read",MESSAGE:"message",MESSAGE_DELETE:"message_delete",MESSAGE_MARK_AS_NOT_SPAM:"message_unmark_as_spam",MESSAGE_MARK_AS_SPAM:"message_mark_as_spam",PARTICIPANTS_JOIN:"participants_join",PARTICIPANTS_LEAVE:"participants_leave",REMOVE_CONVERSATION:"remove_conversation"}},AeR4:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.mapDispatchToProps=t.mapStateToProps=t.selectPrefetchResults=void 0;var o=n("Dd8w"),i=a(o),u=n("gRE1"),s=a(u),d=n("fZjL"),l=a(d),c=n("oG/c"),f=r(c),p=n("y7g/"),_=r(p),v=n("fLkD"),h=r(v),m=n("kQCY"),y=r(m),E=n("4n+p"),g=n("bndy"),I=n("2rH5"),A=n("/PGd"),C=a(A),S=n("EC/F"),O=a(S),b=n("n8z8"),T=a(b),M=n("Dica"),w=a(M),N=(0,g.createSelector)(h.selectContext,function(e){return e&&e.q}),P=(0,g.createSelector)(y.selectPrefetchIndex,N,y.selectPrefetchWithPrefix),R=t.selectPrefetchResults=(0,g.createSelector)(P,y.selectPrefetchUsers,y.selectBlacklist,function(e,t,n){return(e||(0,l.default)(t)).filter(function(e){return!n[e]}).map(function(e){return t[e]})}),D={entries:{},entryIdsByConversationId:{}},x=(0,g.createSelector)(h.selectContext,f.selectConversations,w.default.selectAll,_.selectLoggedInUserId,function(e,t,n,r){return e.src===h.Sources.COMPOSE_MESSAGE&&(0,T.default)(e.q,(0,I.hydrateConversations)((0,s.default)(t).map(function(e){return e.data}),D,n),r)||[]}),U=function(e,t){return t.disabledUsers},k=function(e,t){return t.selectedUsers},F=(0,g.createSelector)(h.selectContext,h.selectRemoteResults,R,x,function(e,t,n,r){return(0,i.default)({},t,{users:(0,O.default)(e,t.users||[],r,n)})}),H=function(e,t){return t.selectedUsers&&0===t.selectedUsers.length},L=t.mapStateToProps=(0,g.createSelector)(h.selectContext,F,H,U,k,function(e,t,n,r,a){return{items:(0,C.default)(t,e,n,r,a)}}),j=t.mapDispatchToProps={clearTypeahead:h.clearTypeahead,fetchTypeahead:h.fetchTypeahead,prefetchTypeaheadUsersIfNeeded:y.prefetchTypeaheadUsersIfNeeded,setContext:h.setContext};t.default=(0,E.connect)(L,j)},BNgD:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getConversationTitleFromParticipants=void 0;var a=n("7nRM"),o=r(a),i=n("fZjL"),u=r(i),s=n("oG/c"),d=n("sqR6"),l=r(d),c=n("BM65"),f=r(c),p=s.CONVERSATION_TYPE.GROUP,_=f.default.messageFormatter("You"),v=f.default.messageFormatter("{name} and You"),h=f.default.messageFormatter("{name1}, {name2}"),m=f.default.messageFormatter("{name} + {count}");t.default=function(e,t){var n=e.type,r=e.name,a=e.participants,o=void 0===a?{}:a;if(n===p&&r)return r;if(!(0,u.default)(o).length)return null;var i=(0,l.default)(e,t);return y(i,t,n)};var y=t.getConversationTitleFromParticipants=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p,r=e.map(function(e){return e.user}),a=r.filter(function(e){return e.id_str!==t}),i=(0,o.default)(a),u=i[0],s=i.slice(1);switch(a.length){case 0:return _();case 1:return n===p?v({name:u.name}):u.name;case 2:return h({name1:u.name,name2:s[0].name});default:return m({name:u.name,count:s.length})}}},CcNG:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("Zx67"),o=r(a),i=n("Zrlr"),u=r(i),s=n("wxAW"),d=r(s),l=n("zwoO"),c=r(l),f=n("Pf15"),p=r(f),_=n("SvVj"),v=r(_),h=n("U7vG"),m=r(h),y=n("O27J"),E=r(y),g=(n("KSGD"),function(e){function t(){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.scrollableAncestor;this._scrollableAncestor="function"==typeof t?t():t,this._handleScroll=function(){return window.requestAnimationFrame(function(){e._fireCallbacks()})},this._updateOffsetTop(),this._scrollableAncestor.addEventListener("scroll",this._handleScroll),window.addEventListener("resize",this._handleScroll),this._handleScroll()}},{key:"componentDidUpdate",value:function(){this._updateOffsetTop(),this._handleScroll()}},{key:"componentWillUnmount",value:function(){this._scrollableAncestor.removeEventListener("scroll",this._handleScroll),window.removeEventListener("resize",this._handleScroll),this.unmounted=!0}},{key:"_distanceToTopOfScrollableAncestor",value:function(e){return this._scrollableAncestor!==window&&this._scrollableAncestor!==window.document.body&&e.offsetParent,e.offsetParent!==this._scrollableAncestor&&e.offsetParent?e.offsetTop+this._distanceToTopOfScrollableAncestor(e.offsetParent):e.offsetTop}},{key:"_updateOffsetTop",value:function(){try{var e=E.default.findDOMNode(this);this._offsetTop=this._distanceToTopOfScrollableAncestor(e)}catch(e){this._offsetTop=this._offsetTop||0}}},{key:"_fireCallbacks",value:function(){if(!this.unmounted){var e=this._currentPosition(),t=isNaN(this._previousPosition)?e:this._previousPosition;if(this.props.threshold>=1&&-1!==e&&isNaN(this._previousPosition)&&this.props.onEnter.call(this,"down"),this._previousPosition=e,t!==e){var n=e<t?"down":"up";0===e&&this.props.onEnter.call(this,n);var r=1===t&&-1===e,a=-1===t&&1===e;(r||a)&&this.props.onEnter.call(this,n)}}}},{key:"_currentPosition",value:function(){var e=void 0,t=void 0;this._scrollableAncestor===window?(e=window.innerHeight,t=window.pageYOffset):(e=this._scrollableAncestor.offsetHeight,t=this._scrollableAncestor.scrollTop);var n=this._offsetTop,r=e*this.props.threshold;return t<=n+r?t+e>=n-r?0:1:-1}},{key:"render",value:function(){var e=this.props.children;return m.default.createElement("div",null,e||null)}}]),t}(m.default.Component));g.defaultProps={onEnter:v.default,threshold:0},t.default=g},"EC/F":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r){return p(e)([].concat((0,s.default)(t),(0,s.default)(n.map(_(c))),(0,s.default)(r.map(_(l)))))}Object.defineProperty(t,"__esModule",{value:!0}),t.promoteExactMatch=t.EXACT_MATCH_SCORE=t.DM_INBOX_USER_SCORE=t.PREFETCH_USER_SCORE=void 0;var o=n("Dd8w"),i=r(o),u=n("Gu7T"),s=r(u);t.default=a;var d=n("fLkD"),l=t.PREFETCH_USER_SCORE=48401e4,c=t.DM_INBOX_USER_SCORE=48402e4,f=t.EXACT_MATCH_SCORE=48403e4,p=t.promoteExactMatch=function(e){return function(t){if(e.q&&(e.src===d.Sources.COMPOSE_MESSAGE||e.q.match(d.PREFIX_AT))){var n=e.q.replace(d.PREFIX_AT,"");return t.map(function(e){return(e.screen_name||e.user&&e.user.screen_name||"").toLowerCase()===n?(0,i.default)({},e,{rounded_score:f}):e})}return t}},_=function(e){return function(t){return(0,i.default)({},t,{rounded_score:(t.rounded_score||0)+e})}}},Eh6b:function(e,t,n){"use strict";var r=/[|\\{}()[\]^$+*?.]/g;e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(r,"\\$&")}},"El/T":function(e,t,n){t=e.exports=n("FZ+f")(void 0),t.push([e.i,"._3QrkgTB_{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;overflow:hidden}._1UMVIL7K{display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%}._1YGC8xFq{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-radius:0;border-width:0;box-sizing:border-box;color:inherit;font:inherit;padding:.65625rem;text-align:inherit}._1YGC8xFq::-webkit-input-placeholder{color:#657786}._1YGC8xFq::-moz-placeholder{color:#657786}._1YGC8xFq:-ms-input-placeholder{color:#657786}._1YGC8xFq::placeholder{color:#657786}._1YGC8xFq:focus{border-color:#1da1f2;outline:none}.ZWoo0crt{color:#657786}._1VqMahaT{border-radius:1.3125rem}.ktZMpANQ{background-color:#f5f8fa}._2RmultvD{background-color:transparent}._1xYlWRCR{border:1px solid #ccd6dd}._3sD6VXHs{padding:.65625rem 0}.z5tG5NPG{border-bottom:1px solid #657786;margin-bottom:1px}.z5tG5NPG:focus{border-bottom-width:2px;margin-bottom:0}._3He-dj3N,._3He-dj3N:focus{border-color:#e0245e}._1GOlhMeJ{-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;outline:0!important;padding-right:.65625rem}._2cTOmE3M{color:#657786;outline:0!important;padding-left:.65625rem}._3h5HZCEF{color:#657786;font-size:1.25rem}",""]),t.locals={root:"_3QrkgTB_",wrapper:"_1UMVIL7K",input:"_1YGC8xFq",disabled:"ZWoo0crt",rounded:"_1VqMahaT",faintGrayColor:"ktZMpANQ",transparentColor:"_2RmultvD",withBorder:"_1xYlWRCR",withoutSidePadding:"_3sD6VXHs",withUnderline:"z5tG5NPG",invalid:"_3He-dj3N",clearButton:"_1GOlhMeJ",submitButton:"_2cTOmE3M",submitIcon:"_3h5HZCEF"}},FjOj:function(e,t,n){var r=n("QJBR");"string"==typeof r&&(r=[[e.i,r,""]]);n("fjbf")(r,{});r.locals&&(e.exports=r.locals)},HyNw:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("Dd8w"),o=r(a),i=n("Zx67"),u=r(i),s=n("Zrlr"),d=r(s),l=n("wxAW"),c=r(l),f=n("zwoO"),p=r(f),_=n("Pf15"),v=r(_),h=n("m5oZ"),m=r(h),y=n("HW6M"),E=r(y),g=n("U7vG"),I=r(g),A=n("O27J"),C=r(A),S=(n("KSGD"),n("hHwf")),O=r(S),b=function(e){function t(){var e,n,r,a;(0,d.default)(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=(0,p.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(i))),r._setTextInputRef=function(e){r._textInput=e},a=n,(0,p.default)(r,a)}return(0,v.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.autoFocus,n=e.positionCursorAtBeginning,r=e.positionCursorAtEnd,a=C.default.findDOMNode(this._textInput);if(t&&(a.focus(),this.props.onFocus&&this.props.onFocus({target:a})),r){var o=a.value.length;a.setSelectionRange(o,o)}else n&&a.setSelectionRange(0,0)}},{key:"render",value:function(){var e=this.props,t=e.autoCapitalize,n=e.autoComplete,r=e.autoCorrect,a=e.autoFocus,i=e.className,u=e.defaultValue,s=e.editable,d=e.maxLength,l=e.maxNumberOfLines,c=e.multiline,f=e.name,p=e.numberOfLines,_=e.onBlur,v=e.onChange,h=e.onFocus,y=e.onInput,g=e.onKeyDown,A=e.onKeyUp,C=e.onPaste,S=e.placeholder,b=e.spellCheck,T=e.testID,M=e.type,w=e.value,N=c?m.default:"input",P={autoCapitalize:t,autoComplete:n,autoCorrect:r?"on":"off",autoFocus:a,defaultValue:u,disabled:!s,maxLength:d,name:f,onBlur:_,onChange:v,onFocus:h,onInput:y,onKeyDown:g,onKeyUp:A,onPaste:C,placeholder:S,spellCheck:b,value:w},R={maxRows:l||p,minRows:p,useCacheForDOMMeasurements:!0},D={type:M},x=c?R:D;return I.default.createElement(N,(0,o.default)({},P,x,{className:(0,E.default)(i,O.default.root),"data-testid":T,dir:"auto",ref:this._setTextInputRef}))}},{key:"blur",value:function(){C.default.findDOMNode(this._textInput).blur()}},{key:"focus",value:function(){C.default.findDOMNode(this._textInput).focus()}}]),t}(I.default.Component);b.defaultProps={autoComplete:"off",autoCapitalize:"sentences",editable:!0,numberOfLines:2,positionCursorAtEnd:!1,spellCheck:"true",type:"text"},t.default=b},LYvn:function(e,t,n){t=e.exports=n("FZ+f")(void 0),t.push([e.i,"._1VqaD9tQ{cursor:pointer;padding:1rem .65625rem;width:100%}._3SVruyIi{-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;max-width:3.28125rem;min-width:32px}.xXqPzvjv{-webkit-flex-grow:7;-ms-flex-positive:7;flex-grow:7}",""]),t.locals={root:"_1VqaD9tQ",avatarColumn:"_3SVruyIi",bodyColumn:"xXqPzvjv"}},MqZR:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("Dd8w"),o=r(a),i=n("bOdI"),u=r(i),s=n("+6Bu"),d=r(s),l=n("Zx67"),c=r(l),f=n("Zrlr"),p=r(f),_=n("wxAW"),v=r(_),h=n("zwoO"),m=r(h),y=n("Pf15"),E=r(y),g=n("fHKy"),I=r(g),A=n("HW6M"),C=r(A),S=n("MKQE"),O=r(S),b=n("oUAV"),T=r(b),M=n("SvVj"),w=r(M),N=n("U7vG"),P=r(N),R=n("O27J"),D=r(R),x=n("HyNw"),U=r(x),k=n("e53B"),F=(n("KSGD"),n("gA/H")),H=r(F),L=T.default.formatMessage("Clear"),j=function(e){function t(){var e,n,r,a;(0,p.default)(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=(0,m.default)(this,(e=t.__proto__||(0,c.default)(t)).call.apply(e,[this].concat(i))),B.call(r),a=n,(0,m.default)(r,a)}return(0,E.default)(t,e),(0,v.default)(t,[{key:"render",value:function(){var e,t=this.props,n=t.className,r=t.appText,a=t.backgroundColor,i=t.defaultValue,s=t.editable,l=t.invalid,c=t.rounded,f=t.withBorder,p=t.withClearButton,_=t.withoutSidePadding,v=t.withUnderline,h=t.wrapperClassName,m=(0,d.default)(t,["className","appText","backgroundColor","defaultValue","editable","invalid","rounded","withBorder","withClearButton","withoutSidePadding","withUnderline","wrapperClassName"]),y=(0,C.default)(h,H.default.wrapper),E=(0,C.default)(n,H.default.input,(e={},(0,u.default)(e,H.default.withBorder,f),(0,u.default)(e,H.default.withoutSidePadding,_),(0,u.default)(e,H.default.withUnderline,v),(0,u.default)(e,H.default[a+"Color"],a),(0,u.default)(e,H.default.invalid,l),(0,u.default)(e,H.default.rounded,c),(0,u.default)(e,H.default.disabled,!s),e));return P.default.createElement(k.View,{className:H.default.root},P.default.createElement(I.default,(0,o.default)({},r,{className:y}),P.default.createElement(U.default,(0,o.default)({},m,{className:E,defaultValue:i,editable:s,onChange:this._handleChange,ref:this._setTextInputRef}))),p&&this._renderClearButton())}},{key:"applyFinalValue",value:function(e){var t=this;this.focus(),window.requestAnimationFrame(function(){t.blur(),e(t.value())})}},{key:"blur",value:function(){this._textInput&&this._textInput.blur()}},{key:"focus",value:function(){this._textInput&&this._textInput.focus()}},{key:"value",value:function(){return this._getTextInputDOMNode().value}},{key:"_renderClearButton",value:function(){var e,t=this.props,n=t.appText,r=t.backgroundColor,a=t.borderless,o=t.clearButtonClassName,i=n.size||"normal",s=(0,C.default)(H.default.clearButton,o,(e={},(0,u.default)(e,H.default.borderless,a),(0,u.default)(e,H.default[r+"Color"],r),e)),d=P.default.createElement(O.default,{ariaLabel:L,className:s,color:"deepGray",icon:"close",onClose:this._handleClear,size:i});return this.props.value?d:P.default.createElement(k.View,{className:s})}},{key:"_getTextInputDOMNode",value:function(){if(!this._textInputDOM){var e=D.default.findDOMNode(this._textInput);"TEXTAREA"!==e.tagName&&"INPUT"!==e.tagName?this._textInputDOM=e.querySelector("textarea,input"):this._textInputDOM=e}return this._textInputDOM}}]),t}(P.default.Component);j.defaultProps={autoComplete:"on",autoCorrect:!0,backgroundColor:"transparent",editable:!0,focusOnClear:!0,onChange:w.default,onClear:w.default,rounded:!0,withBorder:!1,withClearButton:!1,withUnderline:!1};var B=function(){var e=this;this._handleClear=function(t){e.props.focusOnClear&&e.focus(),e.props.onClear(t)},this._handleChange=function(){var t;(t=e.props).onChange.apply(t,arguments)},this._setTextInputRef=function(t){e._textInput=t}};t.default=j},PGQ9:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments[1];switch(t.type){case b.REQUEST:return(0,_.default)({},e,{isLoading:!0});case b.FAILURE:return(0,_.default)({},e,{error:t.payload,isLoaded:!1,isLoading:!1});case b.SUCCESS:var n=(e.error,(0,f.default)(e,["error"]));return(0,_.default)({},n,{isLoaded:!0,isLoading:!1});case w:return(0,_.default)({},e,{cursor:t.payload});case O.RESET:return T;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.selectUpdatesIsLoading=t.selectUpdates=t.processEvents=t.updateCursor=t.fetchUpdatesIfPossible=t.fetchUpdates=t.fetchUpdatesActionType=void 0;var o=n("//Fk"),i=r(o),u=n("gRE1"),s=r(u),d=n("Gu7T"),l=r(d),c=n("+6Bu"),f=r(c),p=n("Dd8w"),_=r(p);t.default=a;var v=n("IIth"),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(v),m=n("w50l"),y=n("ADUO"),E=n("XEmH"),g=n("nmJ5"),I=n("sLaq"),A=r(I),C=n("Wx7V"),S=n("2OIA"),O=n("Ozl3"),b=t.fetchUpdatesActionType=h.createApiActionTypes(g.NAMESPACE,"FETCH_UPDATES"),T={isLoaded:!1,isLoading:!1},M=t.fetchUpdates=function(e){return function(t,n,r){var a=r.api,o=n(),i=o.directMessages,u=void 0===i?{}:i,d=u.updates||{},c=d.cursor,f=h.createApiDispatcher(t,{apiErrorHandler:A.default,params:(0,_.default)({},e,{cursor:c}),request:a.DirectMessages.fetchUserUpdates}),p=function(e){if(e){var t=e.entities,n=t.entries,r=t.tweets,a=t.users,o=t.cards,i=e.result,u=i.user_events,d=i.user_inbox;return[d&&(0,O.reset)()].concat((0,l.default)((0,m.addToInbox)((0,_.default)({},d||u,{entries:n,users:a,tweets:r,cards:o}))),(0,l.default)(u?N((0,s.default)(n||[])):[]))}};return f({actionTypes:b,context:I.FETCH_DM_USER_UPDATES,meta:{direction:(0,E.getFetchDirection)(e)}},p)}},w=(t.fetchUpdatesIfPossible=function(e){return function(t,n){return R(n())?i.default.resolve():t(M(e))}},(0,g.action)("UPDATE_CURSOR")),N=(t.updateCursor=function(e){return{payload:e,type:w}},t.processEvents=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).sort(function(e,t){return e.id-t.id}).reduce(function(e,t){switch(t.type){case y.ENTRY_TYPE.CONVERSATION_AVATAR_UPDATE:return[].concat((0,l.default)(e),[(0,C.updateConversationAvatar)(t.conversation_id,t.conversation_avatar_image_https),(0,C.updateConversationMaxEntryId)(t.conversation_id,t.id)]).filter(function(e){return e});case y.ENTRY_TYPE.CONVERSATION_NAME_UPDATE:return[].concat((0,l.default)(e),[(0,C.updateConversationNameFromEntry)(t),(0,C.updateConversationMaxEntryId)(t.conversation_id,t.id)]).filter(function(e){return e});case y.ENTRY_TYPE.CONVERSATION_READ:return[].concat((0,l.default)(e),[(0,C.markConversationRead)(t.conversation_id,t.last_read_event_id)]);case y.ENTRY_TYPE.DISABLE_NOTIFICATIONS:case y.ENTRY_TYPE.ENABLE_NOTIFICATIONS:var n=t.type===y.ENTRY_TYPE.ENABLE_NOTIFICATIONS;return[].concat((0,l.default)(e),[(0,C.toggleNotifications)(t.conversation_id,n)]);case y.ENTRY_TYPE.MARK_ALL_AS_READ:return[].concat((0,l.default)(e),[(0,C.markAllAsRead)(t.last_read_event_id)]);case y.ENTRY_TYPE.MESSAGE_DELETE:return[].concat((0,l.default)(e),[(0,S.removeConversationEntries)(t.conversation_id,t.messages.reduce(function(e,t){return[].concat((0,l.default)(e),(0,l.default)((0,s.default)(t)))},[]))]);case y.ENTRY_TYPE.MESSAGE_MARK_AS_NOT_SPAM:case y.ENTRY_TYPE.MESSAGE_MARK_AS_SPAM:var r=t.type===y.ENTRY_TYPE.MESSAGE_MARK_AS_SPAM;return[].concat((0,l.default)(e),[(0,S.toggleSpamOnEntries)(t.messages.reduce(function(e,t){return[].concat((0,l.default)(e),(0,l.default)((0,s.default)(t)))},[]),r)]);case y.ENTRY_TYPE.REMOVE_CONVERSATION:return[].concat((0,l.default)(e),(0,l.default)((0,C.removeConversation)(t.conversation_id)));case y.ENTRY_TYPE.JOIN_CONVERSATION:case y.ENTRY_TYPE.PARTICIPANTS_JOIN:case y.ENTRY_TYPE.PARTICIPANTS_LEAVE:return[].concat((0,l.default)(e),[(0,C.updateConversationMaxEntryId)(t.conversation_id,t.id)]);case y.ENTRY_TYPE.MESSAGE:return[].concat((0,l.default)(e),[(0,C.updateConversationMaxEntryId)(t.conversation_id,t.id)]).filter(function(e){return e});default:return e}},[])}),P=t.selectUpdates=function(e){return e[g.GLOBAL_STATE_KEY].updates},R=t.selectUpdatesIsLoading=function(e){return P(e).isLoading}},Q1sC:function(e,t,n){t=e.exports=n("FZ+f")(void 0),t.push([e.i,"._37IGKrx8{-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-top:2px;margin-left:calc(-1 * (.65625rem + 1px));padding:.65625rem 0}._2OWwLJji{text-align:center}.w28Flhtp{color:#1da1f2;font-size:1.25rem}.dKTwvOgs{-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1}._244Ws272{padding-bottom:0;padding-top:0}._1JSiglpH{color:#aab8c2}",""]),t.locals={root:"_37IGKrx8",centerText:"_2OWwLJji",clearButton:"w28Flhtp",typeaheadWrapper:"dKTwvOgs",input:"_244Ws272",submitButton:"_1JSiglpH"}},QJBR:function(e,t,n){t=e.exports=n("FZ+f")(void 0),t.push([e.i,"._18AMk79-{position:relative}",""]),t.locals={root:"_18AMk79-"}},"W/sJ":function(e,t,n){t=e.exports=n("FZ+f")(void 0),t.push([e.i,".ySzjB11J{border-radius:100%;position:relative}._2HIHq0ZS,.ySzjB11J{height:100%;overflow:hidden;width:100%}._2HIHq0ZS{box-sizing:border-box}.WjLCcn33{border-radius:0}._1m8NTer0 .WjLCcn33,._22Xjfdi_{height:100%;width:100%}.oIUn-h8B .WjLCcn33{height:100%;margin-left:-50%;position:static}.oIUn-h8B ._2HIHq0ZS{height:100%;position:absolute;width:50%}.oIUn-h8B ._2HIHq0ZS:first-child{border-left:1px solid transparent;right:0}.oIUn-h8B ._2HIHq0ZS:last-child{left:0}.O0B25GOu ._2HIHq0ZS{height:50%;position:absolute;width:50%}.O0B25GOu ._2HIHq0ZS:first-child{border-left:1px solid transparent;height:100%;right:0}.O0B25GOu .WjLCcn33{height:100%;width:100%}.O0B25GOu ._2HIHq0ZS:first-child .WjLCcn33{margin-left:-50%;position:static;width:auto}.O0B25GOu ._2HIHq0ZS:last-child{border-top:1px solid transparent;bottom:0;left:0}",""]),t.locals={root:"ySzjB11J",container:"_2HIHq0ZS",image:"WjLCcn33",simpleImageAvatar:"_22Xjfdi_",avatar1:"_1m8NTer0",avatar2:"oIUn-h8B",avatar3:"O0B25GOu"}},WDff:function(e,t,n){t=e.exports=n("FZ+f")(void 0),t.push([e.i,"._2Z8UymHS{-webkit-appearance:none!important;-moz-appearance:none!important;appearance:none!important;box-sizing:border-box!important;resize:none;width:100%}._2Z8UymHS::-webkit-search-cancel-button,._2Z8UymHS::-webkit-search-decoration,._2Z8UymHS::-webkit-search-results-button,._2Z8UymHS::-webkit-search-results-decoration{-webkit-appearance:none}",""]),t.locals={root:"_2Z8UymHS"}},Wx7V:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments[1];switch(t.type){case he:var n=(0,C.default)(t.payload||{}).reduce(function(t,n){var r,a=(0,I.default)(n,2),o=a[0],i=a[1];return t[o]=(0,E.default)({},oe(e[o],i),{fetchStatus:(r={},(0,m.default)(r,z.FETCH_BOTTOM,W.default.LOADED),(0,m.default)(r,z.FETCH_TOP,W.default.LOADED),r)}),t},{});return(0,E.default)({},e,n);case Z.REQUEST:var r=t.meta.conversationId,a=e[r];return(0,E.default)({},e,(0,m.default)({},r,(0,E.default)({},a,{fetchStatus:(0,E.default)({},a.fetchStatus,(0,m.default)({},z.FETCH_BOTTOM,W.default.LOADING))})));case Z.FAILURE:var o=t.meta.conversationId,i=e[o];return(0,E.default)({},e,(0,m.default)({},o,(0,E.default)({},i,{fetchStatus:(0,E.default)({},i.fetchStatus,(0,m.default)({},z.FETCH_BOTTOM,W.default.FAILED))})));case Z.SUCCESS:var u=t.meta.conversationId,s=e[u];return(0,E.default)({},e,(0,m.default)({},u,(0,E.default)({},s,{fetchStatus:(0,E.default)({},s.fetchStatus,(0,m.default)({},z.FETCH_BOTTOM,W.default.LOADED)),data:(0,E.default)({},s.data,{participants:[].concat((0,v.default)(s.data.participants),(0,v.default)((0,p.default)(t.payload.entities.entries)[0].participants))})})));case K.REQUEST:var d=t.meta,l=d.conversationId,f=d.direction,_=void 0===f?z.FETCH_BOTTOM:f,h=e[l];return(0,E.default)({},e,(0,m.default)({},l,(0,E.default)({},h,{fetchStatus:(0,E.default)({},h&&h.fetchStatus||{},(0,m.default)({},_,W.default.LOADING))})));case K.FAILURE:var y=t.meta,g=y.conversationId,A=y.direction,S=void 0===A?z.FETCH_BOTTOM:A,O=e[g];return(0,E.default)({},e,(0,m.default)({},g,(0,E.default)({},O,{fetchStatus:(0,E.default)({},O.fetchStatus,(0,m.default)({},S,W.default.FAILED)),error:t.payload})));case K.SUCCESS:var b=t.meta,T=b.conversationId,M=b.direction,w=void 0===M?z.FETCH_BOTTOM:M,N=e[T];return(0,E.default)({},e,(0,m.default)({},T,(0,E.default)({},oe(N,t.payload),{fetchStatus:(0,E.default)({},N&&N.fetchStatus||{},(0,m.default)({},w,W.default.LOADED))})));case me:return(0,C.default)(e).reduce(function(n,r){var a=(0,I.default)(r,2),o=a[0];a[1];return n[o]=oe(e[o],{last_read_event_id:t.payload}),n},{});case X.REQUEST:return(0,E.default)({},e,(0,m.default)({},t.meta.conversationId,oe(e[t.meta.conversationId],{last_read_event_id:t.meta.lastReadEventId})));case ye:e[t.payload];return(0,c.default)(e,[t.payload]);case J.REQUEST:return(0,E.default)({},e,(0,m.default)({},t.meta.conversationId,(0,E.default)({},e[t.meta.conversationId],{isDeleted:!0})));case ge:return(0,E.default)({},e,(0,m.default)({},t.meta.conversationId,oe(e[t.meta.conversationId],{notifications_disabled:!t.payload})));case $.REQUEST:return(0,E.default)({},e,(0,m.default)({},t.meta.conversationId,oe(e[t.meta.conversationId],{notifications_disabled:!0})));case ee.REQUEST:return(0,E.default)({},e,(0,m.default)({},t.meta.conversationId,oe(e[t.meta.conversationId],{notifications_disabled:!1})));case Se:return(0,E.default)({},e,(0,m.default)({},t.meta.conversationId,oe(e[t.meta.conversationId],{avatar_image_https:t.payload})));case te.REQUEST:case te.SUCCESS:return(0,E.default)({},e,(0,m.default)({},t.meta.conversationId,oe(e[t.meta.conversationId],{name:t.meta.name})));case Ie:return(0,E.default)({},e,(0,m.default)({},t.meta.conversationId,oe(e[t.meta.conversationId],{max_entry_id:t.payload})));case ne.REQUEST:return(0,E.default)({},e,(0,m.default)({},t.meta.conversationId,oe(e[t.meta.conversationId],{isUploading:!0})));case ne.FAILURE:case ne.SUCCESS:return(0,E.default)({},e,(0,m.default)({},t.meta.conversationId,oe(e[t.meta.conversationId],{isUploading:!1})));case Ae:return(0,E.default)({},e,(0,m.default)({},t.meta.conversationId,oe(e[t.meta.conversationId],{avatarMediaId:t.payload})));case Ce:return(0,E.default)({},e,(0,m.default)({},t.meta.conversationId,oe(e[t.meta.conversationId],{avatarMediaId:null})));case L.RESET:return ae;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setConversationAvatar=t.updateConversationAvatar=t.removeAvatarMedia=t.addAvatarMedia=t.updateConversationMaxEntryId=t.updateConversationNameFromEntry=t.updateConversationName=t.enableNotifications=t.disableNotifications=t.toggleNotifications=t.removeConversation=t.updateConversationReadState=t.markConversationRead=t.markAllAsRead=t.addConversations=t.leaveConversation=t.flagConversation=t.fetchConversationHistory=t.fetchConversationIfNeeded=t.fetchConversation=t.addParticipants=t.selectConversationAvatarMediaUploadProgress=t.selectConversationAvatarMediaIsUploading=t.selectConversationAvatarMediaId=t.selectConversationIsRead=t.selectConversationLastReadableEventId=t.selectConversations=t.selectConversationFetchStatus=t.selectConversation=void 0;var i=n("//Fk"),u=a(i),s=n("RRo+"),d=a(s),l=n("+6Bu"),c=a(l),f=n("gRE1"),p=a(f),_=n("Gu7T"),v=a(_),h=n("bOdI"),m=a(h),y=n("Dd8w"),E=a(y),g=n("d7EF"),I=a(g),A=n("W3Iv"),C=a(A);t.default=o;var S=n("IIth"),O=r(S),b=n("hviW"),T=r(b),M=n("y7g/"),w=r(M),N=n("nmJ5"),P=r(N),R=n("bTdA"),D=n("w50l"),x=n("bndy"),U=n("lyoc"),k=n("a6o4"),F=a(k),H=n("ADUO"),L=n("Ozl3"),j=n("2OIA"),B=n("d39v"),G=a(B),V=n("sLaq"),q=a(V),z=n("XEmH"),Y=n("zAiL"),W=a(Y),Z=O.createApiActionTypes(P.NAMESPACE,"ADD_PARTICIPANTS"),K=O.createApiActionTypes(P.NAMESPACE,"FETCH_CONVERSATION"),Q=O.createApiActionTypes(P.NAMESPACE,"FLAG_CONVERSATION"),J=O.createApiActionTypes(P.NAMESPACE,"LEAVE_CONVERSATION"),X=O.createApiActionTypes(P.NAMESPACE,"MARK_CONVERSATION_READ"),$=O.createApiActionTypes(P.NAMESPACE,"DISABLE_CONVERSATION_NOTIFICATIONS"),ee=O.createApiActionTypes(P.NAMESPACE,"ENABLE_CONVERSATION_NOTIFICATIONS"),te=O.createApiActionTypes(P.NAMESPACE,"UPDATE_CONVERSATION_NAME"),ne=O.createApiActionTypes(P.NAMESPACE,"UPLOAD_MEDIA"),re=O.createApiActionTypes(P.NAMESPACE,"UPDATE_GROUP_AVATAR"),ae={},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],e.error,(0,c.default)(e,["error"])),r=(0,d.default)(t.avatarMediaId)?t:n,a=r.avatarMediaId,o=void 0===a?null:a,i=t.isUploading,u=void 0!==i&&i,s=(t.avatarMediaId,t.isUploading,(0,c.default)(t,["avatarMediaId","isUploading"])),l=(0,E.default)({},n&&n.data,s);return(0,E.default)({},n,{avatarMediaId:o,data:l,isUploading:u})},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return(0,C.default)(e).reduce(function(e,n){var r=(0,I.default)(n,2),a=r[0],o=r[1];return(0,E.default)({},e,(0,m.default)({},a,(0,E.default)({},o,t)))},{})},ue=t.selectConversation=function(e,t){return e[P.GLOBAL_STATE_KEY].conversations[t]},se=t.selectConversationFetchStatus=function(e,t){var n=ue(e,t);return n?(0,Y.selectInitialFetchStatus)(n.fetchStatus,n.data):W.default.LOADED},de=function(e,t){return se(e,t)===W.default.LOADING},le=function(e){return e[P.GLOBAL_STATE_KEY].conversations},ce=(t.selectConversations=(0,x.createSelector)(le,function(e){return(0,C.default)(e).reduce(function(e,t){var n=(0,I.default)(t,2),r=n[0],a=n[1];return a.data&&(e[r]=a),e},{})}),t.selectConversationLastReadableEventId=function(e,t){var n=(0,j.selectEntries)(e).entryIdsByConversationId[t];if(n&&n.length>0){var r=w.selectLoggedInUserId(e),a=(0,j.selectEntry)(e,(0,F.default)(n))||{},o=a.id,i=a.by_user_id,u=a.message_data;if(u&&u.sender_id!==r||i&&i!==r)return o}return null}),fe=t.selectConversationIsRead=function(e,t){var n=ce(e,t),r=ue(e,t)||{},a=r.data;return!n||!!(a&&a.last_read_event_id&&(0,U.isGreaterThanOrEqualTo)(a.last_read_event_id,n))},pe=t.selectConversationAvatarMediaId=function(e,t){return(ue(e,t)||{}).avatarMediaId},_e=(t.selectConversationAvatarMediaIsUploading=function(e,t){return(ue(e,t)||{}).isUploading},t.selectConversationAvatarMediaUploadProgress=function(e,t){return T.selectMediaUploadProgress(e,pe(e,t))},t.addParticipants=function(e,t){return function(n,r,a){var o=a.api,i=t.join(","),u=O.createApiDispatcher(n,{apiErrorHandler:q.default,params:{conversationId:e,joinedParticipantIds:i},request:o.DirectMessages.addParticipants}),s=function(e,t){if(e){var n=e.entities;return[(0,j.addEntries)(n.entries),(0,R.addEntities)(n)]}};return u({actionTypes:Z,context:V.ACTION_DM_ADD_PARTICIPANTS,meta:{conversationId:e,participantIds:t}},s)}},t.fetchConversation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n,r){var a=r.api,o=e.conversationId,i=e.context,u=O.createApiDispatcher(t,{apiErrorHandler:q.default,params:e,request:a.DirectMessages.fetchConversation}),s=function(e,t){if(e){var n=e.entities,r=n.cards,a=n.entries,i=n.tweets,u=n.users,s=e.result.conversation_timeline,d=s.conversations,l=s.max_entry_id,c=s.min_entry_id,f=s.status,p={max_entry_id:l,min_entry_id:c,status:f},_=ie(d,p);return(0,D.addToInbox)({conversations:_,entries:a,users:u,tweets:i,cards:r})}if(t&&(0,B.isError)(t,G.default.ClientNotPermitted))return[].concat((0,v.default)(Ee(o)))};return u({actionTypes:K,context:i,meta:{conversationId:o,direction:(0,z.getFetchDirection)(e)}},s)}}),ve=(t.fetchConversationIfNeeded=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){var r=n(),a=e.conversationId,o=ue(r,a)||{},i=o.data,s=void 0===i?{}:i,d=de(r,a),l=!s.status||s.status===H.PAGINATION_STATUS.HAS_MORE,c=V.FETCH_DM_CONVERSATION;return l&&!d?t(_e({conversationId:a,context:c})):u.default.resolve()}},t.fetchConversationHistory=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){var r=n(),a=e.conversationId,o=ue(r,a)||{},i=o.data,s=i||{},d=s.status,l=s.min_entry_id,c=V.FETCH_DM_CONVERSATION_HISTORY;return d===H.PAGINATION_STATUS.HAS_MORE?t(_e((0,E.default)({},e,{max_id:l,context:c}))):u.default.resolve()}},t.flagConversation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n,r){var a=r.api,o=e.conversationId,i=e.reportAs,u=e.context;return O.createApiDispatcher(t,{apiErrorHandler:q.default,params:{conversation_id:o,report_as:i},request:a.DirectMessages.flagConversation})({actionTypes:Q,context:u,meta:{conversationId:o,reportAs:i}},function(t){if(t)return[ve(e)]})}},t.leaveConversation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n,r){var a=r.api,o=e.conversationId,i=e.context;return O.createOptimisticApiDispatcher(t,{apiErrorHandler:q.default,params:e,request:a.DirectMessages.leaveConversation})({actionTypes:J,context:i,meta:{conversationId:o}})}}),he=P.action("ADD_CONVERSATIONS"),me=(t.addConversations=function(e){return{payload:e,type:he}},P.action("MARK_ALL_AS_READ")),ye=(t.markAllAsRead=function(e){return{payload:e,type:me}},t.markConversationRead=function(e,t){return{type:X.REQUEST,meta:{conversationId:e,lastReadEventId:t}}},t.updateConversationReadState=function(e){return function(t,n,r){var a=r.api,o=n(),i=ue(o,e)||{},s=i.data,d=void 0===s?{}:s,l=d.max_entry_id,c=!fe(o,e);if(e&&l&&c){return O.createOptimisticApiDispatcher(t,{apiErrorHandler:q.default,params:{conversationId:e,last_read_event_id:l},request:a.DirectMessages.markRead})({actionTypes:X,bypassFailureOnErrors:function(){return!0},context:V.APP_DM_UPDATE_CONVERSATION_READ_STATE,meta:{conversationId:e,lastReadEventId:l}})}return u.default.resolve()}},P.action("REMOVE_CONVERSATION")),Ee=t.removeConversation=function(e){return[{payload:e,type:ye},(0,j.removeConversationEntries)(e)]},ge=P.action("TOGGLE_CONVERSATION_NOTIFICATIONS"),Ie=(t.toggleNotifications=function(e,t){return{meta:{conversationId:e},payload:t,type:ge}},t.disableNotifications=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n,r){var a=r.api,o=e.conversationId;return O.createOptimisticApiDispatcher(t,{apiErrorHandler:q.default,params:e,request:a.DirectMessages.disableNotifications})({actionTypes:$,meta:{conversationId:o}})}},t.enableNotifications=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n,r){var a=r.api,o=e.conversationId;return O.createOptimisticApiDispatcher(t,{apiErrorHandler:q.default,params:e,request:a.DirectMessages.enableNotifications})({actionTypes:ee,meta:{conversationId:o}})}},t.updateConversationName=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n,r){var a=r.api,o=e.conversationId,i=e.name;return O.createOptimisticApiDispatcher(t,{apiErrorHandler:q.default,params:e,request:a.DirectMessages.updateConversationName})({actionTypes:te,meta:{conversationId:o,name:i}})}},t.updateConversationNameFromEntry=function(e){return{type:te.SUCCESS,meta:{conversationId:e.conversation_id,name:e.conversation_name}}},P.action("UPDATE_CONVERSATION_MAX_ENTRY_ID")),Ae=(t.updateConversationMaxEntryId=function(e,t){return{meta:{conversationId:e},payload:t,type:Ie}},P.action("ADD_AVATAR_MEDIA")),Ce=(t.addAvatarMedia=function(e,t){return{meta:{conversationId:e},payload:t,type:Ae}},P.action("REMOVE_AVATAR_MEDIA")),Se=(t.removeAvatarMedia=function(e,t){return{meta:{conversationId:e},payload:t,type:Ce}},P.action("UPDATE_CONVERSATION_AVATAR"));t.updateConversationAvatar=function(e,t){return{meta:{conversationId:e},payload:t,type:Se}},t.setConversationAvatar=function(e){return function(t,n,r){var a=r.api;t({meta:{conversationId:e},type:ne.REQUEST});var o=pe(n(),e),i=T.uploadMedia(o);return t(i).then(function(n){var r=(0,I.default)(n,1),o=r[0];return t({meta:{conversationId:e},type:ne.SUCCESS}),O.createApiDispatcher(t,{apiErrorHandler:q.default,params:{conversationId:e,avatar_id:o.uploadId},request:a.DirectMessages.updateConversationAvatar})({actionTypes:re,context:V.APP_DM_UPDATE_CONVERSATION_AVATAR})},function(n){return t({meta:{conversationId:e},type:ne.FAILURE}),(0,q.default)(t,n,V.APP_DM_UPDATE_CONVERSATION_AVATAR)})}}},ZmO9:function(e,t,n){var r=n("hG3w");"string"==typeof r&&(r=[[e.i,r,""]]);n("fjbf")(r,{});r.locals&&(e.exports=r.locals)},a4Og:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("lyoc"),a=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Date(Number(e))},i=function(e,t){return o(e.join_time)-o(t.join_time)},u=function(e,t){var n=e.user,r=t.user;return(0,a.default)(n.id_str,r.id_str)},s=function(e){return function(t,n){var r=t.user,a=n.user;switch(e){case r.id_str:return-1;case a.id_str:return 1;default:return 0}}},d=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){return t.map(function(t){return t(e,n)}).filter(function(e){return!!e})[0]||0}};t.default=function(e){return d(s(e),i,u)}},bANh:function(e,t,n){t=e.exports=n("FZ+f")(void 0),t.push([e.i,"._6GFDcZVp{border-style:solid;border-width:1px;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;overflow:hidden}._3d0yTZiF{color:#657786;outline:0!important;padding-left:.65625rem;padding-right:0}._2r6GEaUv{border-color:#ccd6dd}._2_kQAH5N{border-color:transparent}._3wge5KgG{font-size:.85rem}._12dGDLa0{font-size:1rem}.eT9XwRpZ{font-size:1.25rem}._1jSq2LDZ{font-size:1.5rem}._2_mr2JOH{font-size:2rem}",""]),t.locals={root:"_6GFDcZVp",submitButton:"_3d0yTZiF",lightGrayBorder:"_2r6GEaUv",transparentBorder:"_2_kQAH5N",smallSize:"_3wge5KgG",normalSize:"_12dGDLa0",largeSize:"eT9XwRpZ",xlargeSize:"_1jSq2LDZ",jumboSize:"_2_mr2JOH"}},eV93:function(e,t,n){var r=n("LYvn");"string"==typeof r&&(r=[[e.i,r,""]]);n("fjbf")(r,{});r.locals&&(e.exports=r.locals)},fLkD:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments[1];switch(t.type){case C:return(0,f.default)({},e,{context:t.payload});case y.SUCCESS:var n={};if(e.context.q===T(t.payload.query)){var r=e.remoteResults&&e.remoteResults.users||I;n=(0,f.default)({},t.payload,{users:[].concat((0,l.default)(1===r.length&&r||I),(0,l.default)(t.payload.users||I))})}return(0,f.default)({},e,{remoteResults:n});case E.SUCCESS:var a=e.remoteResults&&e.remoteResults.users||I;return(0,f.default)({},e,{remoteResults:(0,f.default)({},e.remoteResults,{users:[].concat((0,l.default)(t.payload.users),(0,l.default)(a))})});case O:return(0,f.default)({},e,{context:{},remoteResults:{}});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Sources=t.clearTypeahead=t.PREFIX_AT=t.fetchTypeahead=t.setContext=t.selectRemoteResults=t.selectContext=void 0;var o=n("//Fk"),i=r(o),u=n("bOdI"),s=r(u),d=n("Gu7T"),l=r(d),c=n("Dd8w"),f=r(c);t.default=a;var p=n("ipg4"),_=r(p),v=n("sLaq"),h=r(v),m=n("IIth"),y=(0,m.createApiActionTypes)("rweb/typeahead","FETCH"),E=(0,m.createApiActionTypes)("rweb/typeahead","FETCH_USER"),g=function(e){return"rweb/typeahead/"+e},I=[],A={context:{},remoteResults:{}};_.default.register((0,s.default)({},"typeahead",a));var C=(t.selectContext=function(e){return e.typeahead.context},t.selectRemoteResults=function(e){return e.typeahead.remoteResults},g("SET_CONTEXT")),S=(t.setContext=function(e){return function(t){return null===e.q||void 0===e.q?i.default.resolve():i.default.resolve(t({type:C,payload:e}))}},t.fetchTypeahead=function(e){return function(t,n,r){var a=r.api;if(!e.q||""===e.q.trim())return i.default.resolve();var o=[];return o.push((0,m.createApiDispatcher)(t,{apiErrorHandler:h.default,params:e,request:a.Typeahead.fetch})({actionTypes:y,context:v.FETCH_TYPEAHEAD})),e.src!==b.COMPOSE_MESSAGE||e.q.match(S)||o.push((0,m.createApiDispatcher)(t,{apiErrorHandler:h.default,params:{count:1,q:"@"+e.q,result_type:"users",src:e.src},request:a.Typeahead.fetch})({actionTypes:E,context:v.FETCH_TYPEAHEAD})),i.default.all(o)}},t.PREFIX_AT=/^[@＠]/),O=g("CLEAR"),b=(t.clearTypeahead=function(){return{type:O}},t.Sources={COMPOSE:"compose",COMPOSE_MESSAGE:"compose_message",SEARCH_BOX:"search_box",SEARCH_BOX_USERS:"search_box_users",SEARCH_BOX_TOPIC:"search_box_topic"}),T=function(e){try{return decodeURIComponent(e.replace(/\+/g,"%20"))}catch(e){return null}}},gzNf:function(e,t,n){var r=n("W/sJ");"string"==typeof r&&(r=[[e.i,r,""]]);n("fjbf")(r,{});r.locals&&(e.exports=r.locals)},hG3w:function(e,t,n){t=e.exports=n("FZ+f")(void 0),t.push([e.i,"._1Oxj60h6{border-bottom:1px solid #ccd6dd;height:.65625rem}",""]),t.locals={sectionDivider:"_1Oxj60h6"}},hUiC:function(e,t,n){var r=n("Q1sC");"string"==typeof r&&(r=[[e.i,r,""]]);n("fjbf")(r,{});r.locals&&(e.exports=r.locals)},iMr7:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("Zx67"),o=r(a),i=n("Zrlr"),u=r(i),s=n("wxAW"),d=r(s),l=n("zwoO"),c=r(l),f=n("Pf15"),p=r(f),_=n("+p6t"),v=r(_),h=n("1azS"),m=r(h),y=n("Z7Ww"),E=r(y),g=n("U7vG"),I=r(g),A=(n("KSGD"),n("uwYN")),C=(r(A),n("e53B")),S=n("eV93"),O=r(S),b=function(e){function t(){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.conversation,n=e.perspective;return I.default.createElement(E.default,{className:O.default.root,tabIndex:"0",withGutter:!0},I.default.createElement(C.View,{className:O.default.avatarColumn},I.default.createElement(v.default,{conversation:t,perspective:n})),I.default.createElement(C.View,{className:O.default.bodyColumn},I.default.createElement(m.default,{conversation:t,perspective:n})))}}]),t}(I.default.Component);t.default=b},klNu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("lyoc"),a=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e,t){var n=e.sort_event_id,r=t.sort_event_id;return n?r?(0,a.default)(r,n):1:-1}},llaH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.reduce(function(n,r,a){var o=t?t(r,a,e):!!r;return o&&n[0].push(r),!o&&n[1].push(r),n},[[],[]])}},"lwC/":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("Dd8w"),o=r(a),i=n("bOdI"),u=r(i),s=n("+6Bu"),d=r(s),l=n("Zx67"),c=r(l),f=n("Zrlr"),p=r(f),_=n("wxAW"),v=r(_),h=n("zwoO"),m=r(h),y=n("Pf15"),E=r(y),g=n("fHKy"),I=(r(g),n("MqZR")),A=r(I),C=n("qNJL"),S=r(C),O=n("HW6M"),b=r(O),T=n("dcpM"),M=r(T),w=n("uard"),N=r(w),P=n("SvVj"),R=r(P),D=n("U7vG"),x=r(D),U=n("e53B"),k=(n("KSGD"),n("gA/H")),F=r(k),H=n("/uH4"),L=r(H),j=M.default.formatMessage("Submit"),B=function(e){function t(){var e,n,r,a;(0,p.default)(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=(0,m.default)(this,(e=t.__proto__||(0,c.default)(t)).call.apply(e,[this].concat(i))),r._setTextInputRef=function(e){r._textInput=e},a=n,(0,m.default)(r,a)}return(0,E.default)(t,e),(0,v.default)(t,[{key:"render",value:function(){var e,t=this.props,n=t.appText,r=t.backgroundColor,a=t.border,i=t.onSubmit,s=t.rounded,l=t.withClearButton,c=t.withSearchIcon,f=(0,d.default)(t,["appText","backgroundColor","border","onSubmit","rounded","withClearButton","withSearchIcon"]),p=(0,b.default)(L.default.root,(e={},(0,u.default)(e,F.default[r+"Color"],r),(0,u.default)(e,F.default.rounded,s),(0,u.default)(e,L.default[a+"Border"],a),e)),_=c?x.default.createElement(S.default,{accessibilityLabel:j,background:"none",border:"none",className:L.default.submitButton,onClick:i},(0,N.default)({className:L.default[(n&&n.size||"normal")+"Size"]})):null;return x.default.createElement(U.View,{className:p},_,x.default.createElement(A.default,(0,o.default)({},f,{appText:n,backgroundColor:r,ref:this._setTextInputRef,rounded:!1,withClearButton:l})))}},{key:"blur",value:function(){this._textInput.blur()}},{key:"focus",value:function(){this._textInput.focus()}},{key:"value",value:function(){this._textInput.value()}}]),t}(x.default.Component);B.defaultProps={backgroundColor:"faintGray",border:"transparent",onSubmit:R.default,rounded:!0,withBorder:!1,withClearButton:!0,withSearchIcon:!0},t.default=B},m5oZ:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.setTimeout(e,1)}function d(e){window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.clearTimeout(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=n("U7vG"),h=r(v),m=n("KSGD"),y=r(m),E=n("nfmG"),g=r(E),I=function(){},A=(c=l=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={height:null,minHeight:-1/0,maxHeight:1/0},n._onNextFrameActionId=null,n._rootDOMNode=null,n._onChange=n._onChange.bind(n),n._resizeComponent=n._resizeComponent.bind(n),n._onRootDOMNode=n._onRootDOMNode.bind(n),n}return u(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.valueLink,n=(e.minRows,e.maxRows,e.onHeightChange,e.useCacheForDOMMeasurements,a(e,["valueLink","minRows","maxRows","onHeightChange","useCacheForDOMMeasurements"]));return"object"===(void 0===t?"undefined":p(t))&&(n.value=t.value),n.style=f({},n.style,{height:this.state.height||0}),Math.max(n.style.maxHeight?n.style.maxHeight:1/0,this.state.maxHeight)<this.state.height&&(n.style.overflow="hidden"),h.default.createElement("textarea",f({},n,{onChange:this._onChange,ref:this._onRootDOMNode}))}},{key:"componentDidMount",value:function(){this._resizeComponent(),window.addEventListener("resize",this._resizeComponent)}},{key:"componentWillReceiveProps",value:function(){this._clearNextFrame(),this._onNextFrameActionId=s(this._resizeComponent)}},{key:"componentDidUpdate",value:function(e,t){this.state.height!==t.height&&this.props.onHeightChange(this.state.height)}},{key:"componentWillUnmount",value:function(){this._clearNextFrame(),window.removeEventListener("resize",this._resizeComponent)}},{key:"_clearNextFrame",value:function(){this._onNextFrameActionId&&d(this._onNextFrameActionId)}},{key:"_onRootDOMNode",value:function(e){this._rootDOMNode=e,this.props.inputRef&&this.props.inputRef(e)}},{key:"_onChange",value:function(e){this._resizeComponent();var t=this.props,n=t.valueLink,r=t.onChange;n?n.requestChange(e.target.value):r(e)}},{key:"_resizeComponent",value:function(){var e=this.props.useCacheForDOMMeasurements;this.setState((0,g.default)(this._rootDOMNode,e,this.props.rows||this.props.minRows,this.props.maxRows))}},{key:"focus",value:function(){this._rootDOMNode.focus()}},{key:"blur",value:function(){this._rootDOMNode.blur()}},{key:"value",get:function(){return this._rootDOMNode.value},set:function(e){this._rootDOMNode.value=e}},{key:"selectionStart",get:function(){return this._rootDOMNode.selectionStart},set:function(e){this._rootDOMNode.selectionStart=e}},{key:"selectionEnd",get:function(){return this._rootDOMNode.selectionEnd},set:function(e){this._rootDOMNode.selectionEnd=e}}]),t}(h.default.Component),l.propTypes={value:y.default.string,onChange:y.default.func,onHeightChange:y.default.func,useCacheForDOMMeasurements:y.default.bool,rows:y.default.number,minRows:y.default.number,maxRows:y.default.number,inputRef:y.default.func},l.defaultProps={onChange:I,onHeightChange:I,useCacheForDOMMeasurements:!1},c);t.default=A},mk3D:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={searchBox:"searchBox"}},n8z8:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){if(e.length>0){var r=new RegExp("(^|.*\\s)"+(0,u.default)(e)+".*","i"),a=t.filter(function(e){var t=r.test(e.name),a=(0,c.default)(e,n),o=a.map(function(e){return e.user}),i=o.some(function(e){return r.test(e.screen_name)||r.test(e.name)});return t||i});return v((0,d.default)(a.map(function(e){return e.type===o.CONVERSATION_TYPE.GROUP?{type:"conversation",conversation:e,perspective:n}:_([e],n).map(h)})))}return v(_(t,n).map(h))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=n("oG/c"),i=n("Eh6b"),u=r(i),s=n("h30v"),d=r(s),l=n("sqR6"),c=r(l),f=n("JpTO"),p=r(f),_=function(e,t){return(0,d.default)(e.map(function(e){return(0,c.default)(e,t).map(function(e){return e.user})}))},v=function(e){return(0,p.default)(e,function(e){var t=e.conversation,n=e.user;return t?"c_"+t.conversation_id:"u_"+n.id_str})},h=function(e){return{type:"user",user:e}}},nmJ5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.GLOBAL_STATE_KEY="directMessages",a=t.NAMESPACE="rweb/"+r;t.action=function(e){return a+"/"+e}},o9AA:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("Gu7T"),o=r(a),i=n("Zx67"),u=r(i),s=n("Zrlr"),d=r(s),l=n("wxAW"),c=r(l),f=n("zwoO"),p=r(f),_=n("Pf15"),v=r(_),h=n("o5RB"),m=n("SvVj"),y=r(m),E=n("U7vG"),g=r(E),I=n("O27J"),A=r(I),C=n("e53B"),S=n("CcNG"),O=r(S),b=(n("KSGD"),function(e){function t(e,n){(0,d.default)(this,t);var r=(0,p.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e,n));return r._getScrollParent=r._getScrollParent.bind(r),r}return(0,v.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.items;return g.default.createElement(C.View,{className:n},t&&r&&r.length>0?this._renderWithListRenderer():[this._renderHeader(),this._renderRows(),this._renderFooter()])}},{key:"_getScrollParent",value:function(){return this._scrollParent=this._scrollParent||(0,h.getScrollParent)(A.default.findDOMNode(this)),this._scrollParent}},{key:"_renderWithListRenderer",value:function(){var e=this,t=this.props,n=t.children,r=t.initialItemIndex,a=t.items,i=t.rowRenderer,u=n.props||{},s=u.idFunc,d=[{_listReserved:!0,type:"header",id:"_listReservedHeader"}].concat((0,o.default)(a),[{_listReserved:!0,type:"footer",id:"_listReservedFooter"}]),l=function(e){return e&&e._listReserved?e.id:s(e)},c=function(t,n){var r=void 0;return t._listReserved?"header"===t.type?r=e._renderHeader():"footer"===t.type&&(r=e._renderFooter()):r=i(t,n-1,a),r};return g.default.cloneElement(n,{initialItemIndex:r+1,items:d,idFunc:l,renderer:c})}},{key:"_createWaypointHandler",value:function(e){return function(t){e(t,this)}}},{key:"_renderFooter",value:function(){var e=this.props,t=e.onAtEnd,n=e.footerRenderer,r=e.nearEndOffset,a=e.onNearEnd,o=n();if(a){var i=this._createWaypointHandler(a);o=g.default.createElement(O.default,{key:"list_footer",onEnter:i,scrollableAncestor:this._getScrollParent,threshold:r},o)}if(t){var u=this._createWaypointHandler(t);o=g.default.createElement(O.default,{key:"list_footer_end",onEnter:u,scrollableAncestor:this._getScrollParent,threshold:0},o)}return o}},{key:"_renderHeader",value:function(){var e=this.props,t=e.onAtStart,n=e.headerRenderer,r=e.nearStartOffset,a=e.onNearStart,o=n();if(a){var i=this._createWaypointHandler(a);o=g.default.createElement(O.default,{key:"list_header",onEnter:i,scrollableAncestor:this._getScrollParent,threshold:r},o)}if(t){var u=this._createWaypointHandler(t);o=g.default.createElement(O.default,{key:"list_header_end",onEnter:u,scrollableAncestor:this._getScrollParent,threshold:0},o)}return o}},{key:"_renderRows",value:function(){var e=this.props,t=e.items,n=e.noItemsRenderer,r=e.rowRenderer;return t&&t.length?t.map(function(e,t,n){return r(e,t,n)}):g.default.createElement("div",{key:"noitems"},n())}}]),t}(g.default.Component));b.defaultProps={footerRenderer:y.default,headerRenderer:y.default,noItemsRenderer:y.default},t.default=b},"oG/c":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchUpdatesIfPossible=t.fetchUpdates=t.sendMessage=t.deleteEntry=t.clearMedia=t.cancelUpload=t.addMedia=t.updateLastSeenEventId=t.fetchInboxHistory=t.fetchInboxIfNeeded=t.fetchInbox=t.updateConversationName=t.updateConversationAvatar=t.updateConversationReadState=t.toggleNotifications=t.setConversationAvatar=t.removeConversation=t.removeAvatarMedia=t.markConversationRead=t.markAllAsRead=t.leaveConversation=t.flagConversation=t.fetchConversationHistory=t.fetchConversationIfNeeded=t.fetchConversation=t.enableNotifications=t.disableNotifications=t.addAvatarMedia=t.selectUpdates=t.selectUnreadCount=t.selectIsLoadingTop=t.selectIsLoadingBottom=t.selectFetchStatus=t.selectInbox=t.selectDraftGifMetadata=t.selectDraftMediaUploadProgress=t.selectDraftMediaIsUploading=t.selectDraftMedia=t.selectEntry=t.selectEntries=t.selectUsersIfNeeded=t.selectConversations=t.selectConversationAvatarMediaUploadProgress=t.selectConversationAvatarMediaIsUploading=t.selectConversationUnreadCount=t.selectConversationIsRead=t.selectConversationFetchStatus=t.selectConversationAvatarMediaId=t.selectConversation=t.addParticipants=t.PAGINATION_STATUS=t.ENTRY_TYPE=t.CONVERSATION_TYPE=t.GLOBAL_STATE_KEY=void 0;var a=n("bOdI"),o=r(a),i=n("ADUO");Object.defineProperty(t,"CONVERSATION_TYPE",{enumerable:!0,get:function(){return i.CONVERSATION_TYPE}}),Object.defineProperty(t,"ENTRY_TYPE",{enumerable:!0,get:function(){return i.ENTRY_TYPE}}),Object.defineProperty(t,"PAGINATION_STATUS",{enumerable:!0,get:function(){return i.PAGINATION_STATUS}});var u=n("Wx7V");Object.defineProperty(t,"addParticipants",{enumerable:!0,get:function(){return u.addParticipants}}),Object.defineProperty(t,"selectConversation",{enumerable:!0,get:function(){return u.selectConversation}}),Object.defineProperty(t,"selectConversationAvatarMediaId",{enumerable:!0,get:function(){return u.selectConversationAvatarMediaId}}),Object.defineProperty(t,"selectConversationFetchStatus",{enumerable:!0,get:function(){return u.selectConversationFetchStatus}}),Object.defineProperty(t,"selectConversationIsRead",{enumerable:!0,get:function(){return u.selectConversationIsRead}}),Object.defineProperty(t,"selectConversationUnreadCount",{enumerable:!0,get:function(){return u.selectConversationUnreadCount}}),Object.defineProperty(t,"selectConversationAvatarMediaIsUploading",{enumerable:!0,get:function(){return u.selectConversationAvatarMediaIsUploading}}),Object.defineProperty(t,"selectConversationAvatarMediaUploadProgress",{enumerable:!0,get:function(){return u.selectConversationAvatarMediaUploadProgress}}),Object.defineProperty(t,"selectConversations",{enumerable:!0,get:function(){return u.selectConversations}}),Object.defineProperty(t,"selectUsersIfNeeded",{enumerable:!0,get:function(){return u.selectUsersIfNeeded}});var s=n("2OIA");Object.defineProperty(t,"selectEntries",{enumerable:!0,get:function(){return s.selectEntries}}),Object.defineProperty(t,"selectEntry",{enumerable:!0,get:function(){return s.selectEntry}}),Object.defineProperty(t,"selectDraftMedia",{enumerable:!0,get:function(){return s.selectDraftMedia}}),Object.defineProperty(t,"selectDraftMediaIsUploading",{enumerable:!0,get:function(){return s.selectDraftMediaIsUploading}}),Object.defineProperty(t,"selectDraftMediaUploadProgress",{enumerable:!0,get:function(){return s.selectDraftMediaUploadProgress}}),Object.defineProperty(t,"selectDraftGifMetadata",{enumerable:!0,get:function(){return s.selectDraftGifMetadata}});var d=n("w50l");Object.defineProperty(t,"selectInbox",{enumerable:!0,get:function(){return d.selectInbox}}),Object.defineProperty(t,"selectFetchStatus",{enumerable:!0,get:function(){return d.selectFetchStatus}}),Object.defineProperty(t,"selectIsLoadingBottom",{enumerable:!0,get:function(){return d.selectIsLoadingBottom}}),Object.defineProperty(t,"selectIsLoadingTop",{enumerable:!0,get:function(){return d.selectIsLoadingTop}}),Object.defineProperty(t,"selectUnreadCount",{enumerable:!0,get:function(){return d.selectUnreadCount}});var l=n("PGQ9");Object.defineProperty(t,"selectUpdates",{enumerable:!0,get:function(){return l.selectUpdates}}),Object.defineProperty(t,"addAvatarMedia",{enumerable:!0,get:function(){return u.addAvatarMedia}}),Object.defineProperty(t,"disableNotifications",{enumerable:!0,get:function(){return u.disableNotifications}}),Object.defineProperty(t,"enableNotifications",{enumerable:!0,get:function(){return u.enableNotifications}}),Object.defineProperty(t,"fetchConversation",{enumerable:!0,get:function(){return u.fetchConversation}}),Object.defineProperty(t,"fetchConversationIfNeeded",{enumerable:!0,get:function(){return u.fetchConversationIfNeeded}}),Object.defineProperty(t,"fetchConversationHistory",{enumerable:!0,get:function(){return u.fetchConversationHistory}}),Object.defineProperty(t,"flagConversation",{enumerable:!0,get:function(){return u.flagConversation}}),Object.defineProperty(t,"leaveConversation",{enumerable:!0,get:function(){return u.leaveConversation}}),Object.defineProperty(t,"markAllAsRead",{enumerable:!0,get:function(){return u.markAllAsRead}}),Object.defineProperty(t,"markConversationRead",{enumerable:!0,get:function(){return u.markConversationRead}}),Object.defineProperty(t,"removeAvatarMedia",{enumerable:!0,get:function(){return u.removeAvatarMedia}}),Object.defineProperty(t,"removeConversation",{enumerable:!0,get:function(){return u.removeConversation}}),Object.defineProperty(t,"setConversationAvatar",{enumerable:!0,get:function(){return u.setConversationAvatar}}),Object.defineProperty(t,"toggleNotifications",{enumerable:!0,get:function(){return u.toggleNotifications}}),Object.defineProperty(t,"updateConversationReadState",{enumerable:!0,get:function(){return u.updateConversationReadState}}),Object.defineProperty(t,"updateConversationAvatar",{enumerable:!0,get:function(){return u.updateConversationAvatar}}),Object.defineProperty(t,"updateConversationName",{enumerable:!0,get:function(){return u.updateConversationName}}),Object.defineProperty(t,"fetchInbox",{enumerable:!0,get:function(){return d.fetchInbox}}),Object.defineProperty(t,"fetchInboxIfNeeded",{enumerable:!0,get:function(){return d.fetchInboxIfNeeded}}),Object.defineProperty(t,"fetchInboxHistory",{enumerable:!0,get:function(){return d.fetchInboxHistory}}),Object.defineProperty(t,"updateLastSeenEventId",{enumerable:!0,get:function(){return d.updateLastSeenEventId}}),Object.defineProperty(t,"addMedia",{enumerable:!0,get:function(){return s.addMedia}}),Object.defineProperty(t,"cancelUpload",{enumerable:!0,get:function(){return s.cancelUpload}}),Object.defineProperty(t,"clearMedia",{enumerable:!0,get:function(){return s.clearMedia}}),Object.defineProperty(t,"deleteEntry",{enumerable:!0,get:function(){return s.deleteEntry}}),Object.defineProperty(t,"sendMessage",{enumerable:!0,get:function(){return s.sendMessage}}),Object.defineProperty(t,"fetchUpdates",{enumerable:!0,get:function(){return l.fetchUpdates}}),Object.defineProperty(t,"fetchUpdatesIfPossible",{enumerable:!0,get:function(){return l.fetchUpdatesIfPossible}});var c=n("2KeS"),f=r(u),p=r(s),_=n("nmJ5"),v=r(d),h=n("ipg4"),m=r(h),y=r(l);t.GLOBAL_STATE_KEY=_.GLOBAL_STATE_KEY;var E=(0,c.combineReducers)({conversations:f.default,entries:p.default,inbox:v.default,updates:y.default});m.default.register((0,o.default)({},_.GLOBAL_STATE_KEY,E)),t.default=E},oiv1:function(e,t,n){var r=n("yX3F");"string"==typeof r&&(r=[[e.i,r,""]]);n("fjbf")(r,{});r.locals&&(e.exports=r.locals)},oshO:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TypeaheadContainer=void 0;var a=n("Dd8w"),o=r(a),i=n("+6Bu"),u=r(i),s=n("Zx67"),d=r(s),l=n("Zrlr"),c=r(l),f=n("wxAW"),p=r(f),_=n("zwoO"),v=r(_),h=n("Pf15"),m=r(h),y=n("AeR4"),E=r(y),g=n("69I8"),I=r(g),A=(n("KSGD"),n("U7vG")),C=r(A),S=n("yxkR"),O=r(S),b=t.TypeaheadContainer=function(e){function t(e,n){(0,c.default)(this,t);var r=(0,v.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e,n));return r._handleSetContext=function(e){r.props.setContext(e),r._debouncedFetchTypeahead(e)},r._debouncedFetchTypeahead=(0,I.default)(function(){var e;return(e=r.props).fetchTypeahead.apply(e,arguments)},250),r}return(0,m.default)(t,e),(0,p.default)(t,[{key:"componentWillMount",value:function(){this.props.prefetchTypeaheadUsersIfNeeded()}},{key:"componentWillUnmount",value:function(){this.props.clearTypeahead()}},{key:"render",value:function(){var e=this.props,t=(e.clearTypeahead,e.prefetchTypeaheadUsersIfNeeded,(0,u.default)(e,["clearTypeahead","prefetchTypeaheadUsersIfNeeded"]));return C.default.createElement(O.default,(0,o.default)({},t,{onSetContext:this._handleSetContext}))}}]),t}(C.default.Component);b.defaultProps={},t.default=(0,E.default)(b)},sK26:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("bOdI"),o=r(a),i=n("Zx67"),u=r(i),s=n("Zrlr"),d=r(s),l=n("wxAW"),c=r(l),f=n("zwoO"),p=r(f),_=n("Pf15"),v=r(_),h=n("fHKy"),m=r(h),y=n("HW6M"),E=r(y),g=n("iMr7"),I=r(g),A=n("1zwZ"),C=r(A),S=n("U7vG"),O=r(S),b=n("g6Al"),T=r(b),M=n("e53B"),w=(n("KSGD"),n("oiv1")),N=r(w),P=(0,C.default)({className:N.default.checkmark}),R=function(e){function t(e,n){(0,d.default)(this,t);var r=(0,p.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e,n));return r._handleClick=r._handleClick.bind(r),r}return(0,v.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=(0,E.default)(N.default.searchObject,(0,o.default)({},N.default.disabled,this.props.item.disabled)),t=this._itemRenderer();return t&&O.default.createElement(M.View,{accessibilityRole:"button",className:e,disabled:this.props.item.disabled,onClick:this._handleClick},t)}},{key:"_handleClick",value:function(){this.props.onClick(this.props.item)}},{key:"_itemRenderer",value:function(){var e=this.props.item;switch(e.type){case"topic":case"hashtag":return O.default.createElement(m.default,{children:e.token,className:N.default.text,color:"blue"});case"user":var t=e.selected,n=e.user;return O.default.createElement(T.default,{avatarUri:n.profile_image_url_https,decoration:t?P:null,followRequestReceived:n.follow_request_received,isBlockedBy:n.blocked_by,isBlocking:n.blocking,isFollowing:n.following,isProtected:n.protected,isVerified:n.verified,name:n.name,promotedContent:n.promoted_content,screenName:n.screen_name,translatorType:n.translator_type,userId:n.id_str,withLink:!1});case"conversation":return O.default.createElement(I.default,{conversation:e.conversation,perspective:e.perspective});default:return null}}}]),t}(O.default.Component);R.defaultProps={isSelected:!1},t.default=R},slmD:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=null,n=null;return function(){for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];if(n&&r(o,n))return t;var u=e.apply(void 0,o);return t=u,n=o,u}};var r=function(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}},sqR6:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("Gu7T"),o=r(a),i=n("gRE1"),u=r(i),s=n("d7EF"),d=r(s),l=n("oG/c"),c=n("a4Og"),f=r(c),p=n("llaH"),_=r(p);t.default=function(e,t){var n=e.participants,r=e.type,a=e.created_by_user_id,i=(0,_.default)((0,u.default)(n),function(e){return e.user.id_str===t}),s=(0,d.default)(i,2),c=s[0],p=s[1];return p.length?r===l.CONVERSATION_TYPE.GROUP&&1===p.length?[].concat((0,o.default)(c),(0,o.default)(p)):p.sort((0,f.default)(a)):c}},w50l:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,n=arguments[1];switch(n.type){case D.REQUEST:var r=n.meta||{},a=r.direction,o=void 0===a?w.FETCH_BOTTOM:a;return(0,p.default)({},t,{fetchStatus:(0,p.default)({},t.fetchStatus,(0,v.default)({},o,P.default.LOADING))});case D.FAILURE:var i=n.meta||{},u=i.direction,s=void 0===u?w.FETCH_BOTTOM:u;return(0,p.default)({},t,{error:n.payload,fetchStatus:(0,p.default)({},t.fetchStatus,(0,v.default)({},s,P.default.FAILED))});case D.SUCCESS:var d=n.meta||{},l=d.direction,f=void 0===l?w.FETCH_BOTTOM:l,_=(t.error,(0,c.default)(t,["error"]));return(0,p.default)({},_,{fetchStatus:(0,p.default)({},t.fetchStatus,(0,v.default)({},f,P.default.LOADED))});case B:return(0,p.default)({},t,{cursor:k(t.cursor,n.payload),fetchStatus:(e={},(0,v.default)(e,w.FETCH_BOTTOM,P.default.LOADED),(0,v.default)(e,w.FETCH_TOP,P.default.LOADED),e)});case x.REQUEST:return(0,p.default)({},t,{cursor:(0,p.default)({},t.cursor,{last_seen_event_id:n.meta.lastSeenEventId})});case C.RESET:return U;default:return t}}Object.defineProperty(t,"__esModule",{value:!0}),t.updateLastSeenEventId=t.addToInbox=t.updateInboxCursor=t.fetchInboxHistory=t.fetchInboxIfNeeded=t.fetchInbox=t.selectUnreadCount=t.selectIsLoadingTop=t.selectIsLoadingBottom=t.selectFetchStatus=t.selectInboxCursor=t.selectInbox=t.mergeCursor=void 0;var o,i=n("//Fk"),u=r(i),s=n("gRE1"),d=r(s),l=n("+6Bu"),c=r(l),f=n("Dd8w"),p=r(f),_=n("bOdI"),v=r(_);t.default=a;var h=n("IIth"),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h),y=n("bTdA"),E=n("2OIA"),g=n("ZTdV"),I=r(g),A=n("ADUO"),C=n("Ozl3"),S=n("PGQ9"),O=n("nmJ5"),b=n("Wx7V"),T=n("sLaq"),M=r(T),w=n("XEmH"),N=n("zAiL"),P=r(N),R=n("lyoc"),D=m.createApiActionTypes(O.NAMESPACE,"FETCH_INBOX"),x=m.createApiActionTypes(O.NAMESPACE,"UPDATE_LAST_SEEN_EVENT_ID"),U={cursor:{},fetchStatus:(o={},(0,v.default)(o,w.FETCH_BOTTOM,P.default.NONE),(0,v.default)(o,w.FETCH_TOP,P.default.NONE),o)},k=t.mergeCursor=function(e,t){var n=e.last_seen_event_id&&(0,R.isGreaterThanOrEqualTo)(e.last_seen_event_id,t.last_seen_event_id)?e.last_seen_event_id:t.last_seen_event_id;return(0,p.default)({},e,t,{last_seen_event_id:n})},F=t.selectInbox=function(e){return e[O.GLOBAL_STATE_KEY].inbox},H=t.selectInboxCursor=function(e){return F(e).cursor},L=t.selectFetchStatus=function(e){var t=H(e)||{},n=t.max_entry_id;return(0,N.selectInitialFetchStatus)(F(e).fetchStatus,!!n)},j=(t.selectIsLoadingBottom=function(e){return F(e).fetchStatus[w.FETCH_BOTTOM]===P.default.LOADING},t.selectIsLoadingTop=function(e){return F(e).fetchStatus[w.FETCH_TOP]===P.default.LOADING},t.selectUnreadCount=function(e){var t=(0,b.selectConversations)(e),n=H(e),r=n.last_seen_event_id;return r?(0,d.default)(t).reduce(function(t,n){var a=n.data.conversation_id,o=(0,b.selectConversationLastReadableEventId)(e,a),i=(0,b.selectConversationIsRead)(e,a);return o&&(0,R.isGreaterThan)(o,r)&&!i?t+1:t},0):0},t.fetchInbox=function(e){return function(t,n,r){var a=r.api,o=m.createApiDispatcher(t,{apiErrorHandler:M.default,params:e,request:a.DirectMessages.fetchUserInbox}),i=function(e){if(e){var t=e.entities,n=t.entries,r=t.users,a=t.tweets,o=t.cards;return V((0,p.default)({},e.result.user_inbox,{entries:n,users:r,tweets:a,cards:o}))}};return o({actionTypes:D,context:T.FETCH_DM_INBOX,meta:{direction:(0,w.getFetchDirection)(e,w.FETCH_TOP)}},i)}}),B=(t.fetchInboxIfNeeded=function(e){return function(t,n){var r=n(),a=L(r);return a!==P.default.LOADED&&a!==P.default.LOADING?t(j(e)):u.default.resolve()}},t.fetchInboxHistory=function(e){return function(t,n){var r=n(),a=H(r),o=a.status,i=a.min_entry_id;return o===A.PAGINATION_STATUS.HAS_MORE?t(j((0,p.default)({},e,{max_id:i}))):u.default.resolve()}},(0,O.action)("UPDATE_INBOX_CURSOR")),G=t.updateInboxCursor=function(e){return{payload:e,type:B}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.conversations,n=e.entries,r=e.users,a=e.tweets,o=e.cards,i=e.cursor,u=(0,c.default)(e,["conversations","entries","users","tweets","cards","cursor"]);return[(0,y.addEntities)({cards:o,tweets:a,users:r}),!(0,I.default)(t)&&(0,b.addConversations)(t),!(0,I.default)(n)&&(0,E.addEntries)(n),!(0,I.default)(i)&&(0,S.updateCursor)(i),!(0,I.default)(u)&&G(u)].filter(function(e){return e})};t.addToInbox=V;t.updateLastSeenEventId=function(){return function(e,t,n){var r=n.api,a=t(),o=H(a),i=o.max_entry_id,s=o.last_seen_event_id;if(i&&(0,R.isGreaterThan)(i,s)){return m.createOptimisticApiDispatcher(e,{apiErrorHandler:M.default,params:{last_seen_event_id:i},request:r.DirectMessages.updateLastSeenEventId})({actionTypes:x,context:T.APP_DM_UPDATE_LAST_SEEN,meta:{lastSeenEventId:i}})}return u.default.resolve()}}},xN76:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("U7vG"),o=r(a),i=n("ZmO9"),u=r(i),s=function(){return o.default.createElement("div",{className:u.default.sectionDivider})};t.default=s},yX3F:function(e,t,n){t=e.exports=n("FZ+f")(void 0),t.push([e.i,"._3n-fEygc{background-color:transparent;border:0;padding:0;cursor:pointer;text-align:left}._2u4tEvtd{display:block;padding-bottom:.65625rem;padding-top:.65625rem}._2nTuKRPA{opacity:.5;cursor:default}",""]),t.locals={searchObject:"_3n-fEygc",text:"_2u4tEvtd",disabled:"_2nTuKRPA"}},yxkR:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TypeaheadWrapper=void 0;var a=n("woOf"),o=r(a),i=n("Dd8w"),u=r(i),s=n("Zx67"),d=r(s),l=n("Zrlr"),c=r(l),f=n("wxAW"),p=r(f),_=n("zwoO"),v=r(_),h=n("Pf15"),m=r(h),y=n("HW6M"),E=r(y),g=n("YhvO"),I=r(g),A=n("U7vG"),C=r(A),S=n("O27J"),O=r(S),b=(n("fLkD"),n("zuiz")),T=r(b),M=n("e53B"),w=(n("KSGD"),n("FjOj")),N=r(w),P={scoper:[{type:"dmUserSearch",regexp:/^[@＠]?(.*)|^$/,srcInputs:["compose_message"],scope:{result_type:"users",count:20}},{type:"username",regexp:/^([@＠]\w{1,20})/,srcInputs:["compose"],scope:{result_type:"users",count:20}},{type:"hashtag",regexp:/^([#＃]\w{1,20})/,srcInputs:["compose"],scope:{result_type:"hashtags",count:20}},{type:"topic",regexp:/(.+)/,srcInputs:["search_box"],scope:{result_type:"topics,users"}}],SpaceBoundary:/\s|$/,WordEnd:/\S+$/},R=t.TypeaheadWrapper=function(e){function t(e,n){(0,c.default)(this,t);var r=(0,v.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e,n));return r.state={dropdownShown:!1},r._handleDropdownMouseDown=r._handleDropdownMouseDown.bind(r),r._handleDropdownMouseUp=r._handleDropdownMouseUp.bind(r),r._handleHideDropdown=r._handleHideDropdown.bind(r),r._handleSelect=r._handleSelect.bind(r),r}return(0,m.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){this._node=O.default.findDOMNode(this),this._inputNode&&this._showDropdownIfNeeded()}},{key:"shouldComponentUpdate",value:function(e,t){return!(0,I.default)(this.props,e)||!(0,I.default)(this.state,t)}},{key:"render",value:function(){var e=this.props,t=e.alwaysOpen,n=e.children,r=e.className,a=e.dropdownStyle,o=e.items,i=e.withDivider,s=e.withSectionDivider,d=t?"Focus":"Blur",l=C.default.cloneElement(n,{"aria-autocomplete":"list","aria-expanded":this.state.dropdownShown,"aria-owns":T.default.DOM_ID,onBlur:this._wrapPropEventHandler("Blur"),onFocus:this._wrapPropEventHandler("Focus"),onInput:this._wrapPropEventHandler("Input"),onClear:this._wrapPropEventHandler("Clear",d)});return C.default.createElement(M.View,{className:(0,E.default)(N.default.root,r)},l,this.state.dropdownShown&&o&&C.default.createElement(T.default,{items:o,onHide:this._handleHideDropdown,onMouseDown:this._handleDropdownMouseDown,onMouseUp:this._handleDropdownMouseUp,onSelect:this._handleSelect,source:this,style:(0,u.default)({},a,{top:this.state.position.top}),withDivider:i,withSectionDivider:s}))}},{key:"replaceCurrentWord",value:function(e){if(this._inputNode){this._inputNode.focus();var t=this._calcReplacement(e),n=t.cursor,r=t.value;this._inputNode.value=r,this._inputNode.selectionStart=n,this._inputNode.dispatchEvent(new Event("input",{bubbles:!0,cancellable:!1}))}}},{key:"_handleDropdownMouseDown",value:function(){this._dropDownClickInProgress=!0}},{key:"_handleDropdownMouseUp",value:function(){this._dropDownClickInProgress=!1}},{key:"_onBlur",value:function(){return!this._dropDownClickInProgress&&this._handleHideDropdown(),!0}},{key:"_onInput",value:function(e){return this._inputNode=e.currentTarget||e.target,this._showDropdownIfNeeded(),!0}},{key:"_onFocus",value:function(e){return this._inputNode=e.currentTarget||e.target,this._showDropdownIfNeeded(),!0}},{key:"_isTextArea",value:function(){return"textarea"===this._inputNode.tagName.toLowerCase()}},{key:"_handleSelect",value:function(e){var t=this;(this.props.onSuggestionSelected||function(e){var n=e.token;return t.replaceCurrentWord(n)})(e)}},{key:"_showDropdownIfNeeded",value:function(){var e=this.props.dropdownStyle,t=this._getCurrentWord(),n=t.word,r=this._getScope(n);if(r){var a="fixed"===e.position?0:this._node&&this._node.getBoundingClientRect().top||0,o={top:this._inputNode.getBoundingClientRect().bottom-a};this.props.onSetContext(r),this._showDropdown(o)}else this._handleHideDropdown()}},{key:"_showDropdown",value:function(e){!this.state.dropdownShown&&this.props.onDropdownShow&&this.props.onDropdownShow(),this.setState({dropdownShown:!0,position:e})}},{key:"_handleHideDropdown",value:function(){this.state.dropdownShown&&this.props.onDropdownHide&&this.props.onDropdownHide(),this.props.alwaysOpen||this.setState({dropdownShown:!1,position:null})}},{key:"_getCurrentWord",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._getCaret(),t=this._inputNode.value;if(this._isTextArea()){var n=t.slice(0,e),r=t.slice(e,t.length),a=n.search(P.WordEnd),o=n.slice(a),i=r.slice(0,r.search(P.SpaceBoundary)),u=o+i;return u.trim()?{start:a,word:u}:{leftBoundary:e,rightBoundary:e,word:""}}return{start:0,word:t}}},{key:"_calcReplacement",value:function(e){if(this._isTextArea()){var t=this._inputNode.value,n=this._getCurrentWord(),r=n.start,a=n.word,o=t.slice(0,r),i=t.slice(r+a.length),u=""===i,s=o.length+e.length+2;return{value:o+e+i+(u?" ":""),cursor:s}}return{value:e,cursor:e.length}}},{key:"_getCaret",value:function(){return this._inputNode.selectionStart}},{key:"_getScope",value:function(e){var t=this.props.srcInput,n=P.scoper.find(function(n){if(-1!==n.srcInputs.indexOf(t))return e.match(n.regexp)}),r=RegExp.$1;return n?(0,u.default)({},(0,o.default)(n.scope,{src:t})||{},{q:r}):null}},{key:"_wrapPropEventHandler",value:function(e,t){var n=this,r="_on"+(t||e),a="on"+e,o=function(){return n[r].apply(n,arguments)},i=function(){return(n.props.children.props[a]||function(){}).apply(void 0,arguments)};return function(){o.apply(void 0,arguments)&&i.apply(void 0,arguments)}}}]),t}(C.default.Component);R.defaultProps={alwaysOpen:!1,dropdownStyle:{},onSuggestionSelected:null,withDivider:!1},t.default=R},zuiz:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("Zx67"),o=r(a),i=n("Zrlr"),u=r(i),s=n("wxAW"),d=r(s),l=n("zwoO"),c=r(l),f=n("Pf15"),p=r(f),_=n("HW6M"),v=r(_),h=n("o9AA"),m=r(h),y=n("U7vG"),E=r(y),g=n("O27J"),I=r(g),A=n("sK26"),C=r(A),S=n("xN76"),O=r(S),b=(n("KSGD"),n("1zpx")),T=r(b),M=n("9R9P"),w=r(M),N=function(e){function t(e,n){(0,u.default)(this,t);var r=(0,c.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return r._handleClick=r._handleClick.bind(r),r._headerRenderer=r._headerRenderer.bind(r),r._rowRenderer=r._rowRenderer.bind(r),r._unmounted=!1,r}return(0,p.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this;this._fnHide=function(){return e._hideIfNecessary.apply(e,arguments)},document.addEventListener("click",this._fnHide,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this._fnHide,!1),this._unmounted=!0}},{key:"render",value:function(){var e=this.props,n=e.onMouseDown,r=e.onMouseUp,a=e.style,o=(0,v.default)(w.default.root,T.default.containerWithGutter),i=this._injectedItems();return i.length>0&&E.default.createElement("div",{className:o,onMouseDown:n,onMouseUp:r,style:a},E.default.createElement(m.default,{headerRenderer:this._headerRenderer,id:t.DOM_ID,items:i,role:"listbox",rowRenderer:this._rowRenderer}))}},{key:"_injectedItems",value:function(){return this.props.items.reduce(function(e,t,n){var r=e,a=n>0&&e[n-1].type;return n>0&&a!==t.type&&"sectionDivider"!==a&&(r=r.concat([{type:"sectionDivider"}])),r=r.concat(t)},[])}},{key:"_headerRenderer",value:function(){return this.props.withDivider?E.default.createElement("div",{className:w.default.divider,key:"header",role:"presentation"}):E.default.createElement("div",{key:"header",role:"presentation"})}},{key:"_rowRenderer",value:function(e,t,n){var r=this,a=function(){return r._handleClick(e)};return this.props.withSectionDivider&&"sectionDivider"===e.type?E.default.createElement(O.default,{key:"divider_"+t,role:"presentation"}):E.default.createElement(C.default,{item:e,key:"item_"+t,onClick:a,role:"option"})}},{key:"_handleClick",value:function(e){this.props.onSelect(e),this.props.onHide()}},{key:"_hideIfNecessary",value:function(e){if(!this._unmounted){var t=this.props.source,n=I.default.findDOMNode(this),r=I.default.findDOMNode(t);n&&n.contains(e.target)||r&&r.contains(e.target)||(this.props.onHide(),e.preventDefault(),e.stopPropagation())}}}]),t}(E.default.Component);N.defaultProps={withDivider:!1,withSectionDivider:!0},N.DOM_ID="typeahead_dropdown",t.default=N}});
//# sourceMappingURL=loader.SearchBox.db9e6f0d333ebda3.js.map